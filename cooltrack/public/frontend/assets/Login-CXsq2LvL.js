var V=Object.defineProperty,G=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var $=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var N=(s,o,t)=>o in s?V(s,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[o]=t,x=(s,o)=>{for(var t in o||(o={}))_.call(o,t)&&N(s,t,o[t]);if($)for(var t of $(o))M.call(o,t)&&N(s,t,o[t]);return s},v=(s,o)=>G(s,J(o));var z=(s,o)=>{var t={};for(var a in s)_.call(s,a)&&o.indexOf(a)<0&&(t[a]=s[a]);if(s!=null&&$)for(var a of $(s))o.indexOf(a)<0&&M.call(s,a)&&(t[a]=s[a]);return t};var T=(s,o,t)=>new Promise((a,d)=>{var l=i=>{try{u(t.next(i))}catch(h){d(h)}},m=i=>{try{u(t.throw(i))}catch(h){d(h)}},u=i=>i.done?a(i.value):Promise.resolve(i.value).then(l,m);u((t=t.apply(s,o)).next())});import{r as n,u as Q,a as q,j as e,c as Y,P as A,b as D,d as Z,e as ee,o as se,f as te,v as re,y as oe,g as ae,h as ne,i as ie,p as P,l as ce,k as le,m as k,n as B,F as de,q as ue,s as me,t as he,L as pe,w as fe,x as xe,z as ge,A as be}from"./index-BsqRx7K0.js";import{o as ve}from"./card-Cl9jFH-U.js";import{u as K,c as F}from"./text-field-DqTx62B3.js";import{r as ke,t as ye}from"./icons-oFCLfhG6.js";import{u as Ce}from"./index-BiKMrQoy.js";import{o as je}from"./separator-BoVDTRez.js";var L="Checkbox",[we,Ae]=Y(L),[Ee,Se]=we(L),O=n.forwardRef((s,o)=>{const S=s,{__scopeCheckbox:t,name:a,checked:d,defaultChecked:l,required:m,disabled:u,value:i="on",onCheckedChange:h,form:p}=S,g=z(S,["__scopeCheckbox","name","checked","defaultChecked","required","disabled","value","onCheckedChange","form"]),[c,j]=n.useState(null),w=Q(o,r=>j(r)),C=n.useRef(!1),I=c?p||!!c.closest("form"):!0,[b=!1,E]=q({prop:d,defaultProp:l,onChange:h}),R=n.useRef(b);return n.useEffect(()=>{const r=c==null?void 0:c.form;if(r){const f=()=>E(R.current);return r.addEventListener("reset",f),()=>r.removeEventListener("reset",f)}},[c,E]),e.jsxs(Ee,{scope:t,state:b,disabled:u,children:[e.jsx(A.button,v(x({type:"button",role:"checkbox","aria-checked":y(b)?"mixed":b,"aria-required":m,"data-state":W(b),"data-disabled":u?"":void 0,disabled:u,value:i},g),{ref:w,onKeyDown:D(s.onKeyDown,r=>{r.key==="Enter"&&r.preventDefault()}),onClick:D(s.onClick,r=>{E(f=>y(f)?!0:!f),I&&(C.current=r.isPropagationStopped(),C.current||r.stopPropagation())})})),I&&e.jsx(ze,{control:c,bubbles:!C.current,name:a,value:i,checked:b,required:m,disabled:u,form:p,style:{transform:"translateX(-100%)"},defaultChecked:y(l)?!1:l})]})});O.displayName=L;var H="CheckboxIndicator",U=n.forwardRef((s,o)=>{const m=s,{__scopeCheckbox:t,forceMount:a}=m,d=z(m,["__scopeCheckbox","forceMount"]),l=Se(H,t);return e.jsx(Z,{present:a||y(l.state)||l.state===!0,children:e.jsx(A.span,v(x({"data-state":W(l.state),"data-disabled":l.disabled?"":void 0},d),{ref:o,style:x({pointerEvents:"none"},s.style)}))})});U.displayName=H;var ze=s=>{const p=s,{control:o,checked:t,bubbles:a=!0,defaultChecked:d}=p,l=z(p,["control","checked","bubbles","defaultChecked"]),m=n.useRef(null),u=Ce(t),i=ee(o);n.useEffect(()=>{const g=m.current,c=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(c,"checked").set;if(u!==t&&w){const C=new Event("click",{bubbles:a});g.indeterminate=y(t),w.call(g,y(t)?!1:t),g.dispatchEvent(C)}},[u,t,a]);const h=n.useRef(y(t)?!1:t);return e.jsx("input",v(x({type:"checkbox","aria-hidden":!0,defaultChecked:d!=null?d:h.current},l),{tabIndex:-1,ref:m,style:v(x(x({},s.style),i),{position:"absolute",pointerEvents:"none",opacity:0,margin:0})}))};function y(s){return s==="indeterminate"}function W(s){return y(s)?"indeterminate":s?"checked":"unchecked"}var Pe=O,Ie=U;const Re=["1","2","3"],$e=["classic","surface","soft"],Fe=x(x({size:{type:"enum",className:"rt-r-size",values:Re,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:$e,default:"surface"}},te),se),X=n.forwardRef((s,o)=>{const p=re(s,Fe,ae),{className:t,color:a,checked:d,defaultChecked:l,onCheckedChange:m}=p,u=z(p,["className","color","checked","defaultChecked","onCheckedChange"]),[i,h]=q({prop:d,defaultProp:l,onChange:m});return n.createElement(Pe,v(x({"data-accent-color":a},u),{defaultChecked:l,checked:i,onCheckedChange:h,asChild:!1,ref:o,className:oe("rt-reset","rt-BaseCheckboxRoot","rt-CheckboxRoot",t)}),n.createElement(Ie,{asChild:!0,className:"rt-BaseCheckboxIndicator rt-CheckboxIndicator"},n.createElement(i==="indeterminate"?ke:ye,null)))});X.displayName="Checkbox";const Le=({message:s,type:o,onClose:t})=>(n.useEffect(()=>{const a=setTimeout(()=>{t()},5e3);return()=>clearTimeout(a)},[t]),e.jsxs(e.Fragment,{children:[e.jsx("style",{children:`
          @keyframes slideIn {
            from {
              transform: translateX(100%);
              opacity: 0;
            }
            to {
              transform: translateX(0);
              opacity: 1;
            }
          }
        `}),e.jsxs("div",{style:{position:"fixed",bottom:"20px",right:"20px",zIndex:1e3,backgroundColor:o==="success"?"var(--green-9)":"var(--red-9)",color:"white",padding:"12px 16px",borderRadius:"8px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)",display:"flex",alignItems:"center",gap:"8px",maxWidth:"300px",animation:"slideIn 0.3s ease-out"},children:[o==="success"?e.jsx(ge,{size:16}):e.jsx(be,{size:16}),e.jsx(k,{size:"2",children:s})]})]})),Oe=()=>{const[s,o]=n.useState(""),[t,a]=n.useState(""),[d,l]=n.useState(!1),[m,u]=n.useState(!1),[i,h]=n.useState(),[p,g]=n.useState(!1),[c,j]=n.useState({}),{login:w}=ne(),C=ie();n.useEffect(()=>{const r=localStorage.getItem("cooltrack_username"),f=localStorage.getItem("cooltrack_remember")==="true";r&&f&&(o(r),u(!0))},[]);const I=()=>{const r={};return s.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)||(r.username="Please enter a valid email address"):r.username="Email is required",t?t.length<6&&(r.password="Password must be at least 6 characters"):r.password="Password is required",j(r),Object.keys(r).length===0},b=r=>{o(r.target.value),c.username&&j(f=>v(x({},f),{username:void 0})),i&&h(void 0)},E=r=>{a(r.target.value),c.password&&j(f=>v(x({},f),{password:void 0})),i&&h(void 0)},R=r=>T(void 0,null,function*(){if(r==null||r.preventDefault(),!!I()){g(!0),h(void 0);try{yield w({username:s,password:t}),m?(localStorage.setItem("cooltrack_username",s),localStorage.setItem("cooltrack_remember","true")):(localStorage.removeItem("cooltrack_username"),localStorage.removeItem("cooltrack_remember")),C("/")}catch(f){h("Login failed. Please try again.")}finally{g(!1)}}}),S=r=>{r.key==="Enter"&&!p&&R()};return e.jsxs(e.Fragment,{children:[e.jsx(P,{align:"center",justify:"center",px:"4",style:{overflow:"hidden",minHeight:"100vh"},children:e.jsx(ve,{size:"3",style:{width:"100%",maxWidth:420},children:e.jsx("form",{onSubmit:R,children:e.jsxs(P,{direction:"column",gap:"4",align:"center",children:[e.jsx("img",{src:ce,alt:"Cool Track Logo",style:{height:60,marginBottom:8}}),e.jsx(le,{size:"6",align:"center",weight:"bold",children:"Welcome to Cool Track"}),e.jsx(k,{size:"3",align:"center",color:"gray",children:"Sign in to your account to continue"}),e.jsx(je,{size:"4"}),e.jsxs(B,{width:"100%",children:[e.jsx(k,{as:"label",size:"2",weight:"medium",color:"gray",children:"Email Address"}),e.jsx(K,{placeholder:"you@cooltrack.co",onChange:b,onKeyPress:S,value:s,size:"3",mt:"2",color:c.username?"red":void 0,style:{paddingLeft:"10px",border:c.username?"1px solid var(--red-8)":void 0},children:e.jsx(F,{side:"left",children:e.jsx(de,{size:14,color:"var(--gray-9)"})})}),c.username&&e.jsx(k,{size:"1",color:"red",mt:"1",children:c.username})]}),e.jsxs(B,{width:"100%",children:[e.jsx(k,{as:"label",size:"2",weight:"medium",color:"gray",children:"Password"}),e.jsxs(K,{type:d?"text":"password",placeholder:"Enter your password",onChange:E,onKeyPress:S,value:t,size:"3",mt:"2",color:c.password?"red":void 0,style:{paddingLeft:"10px",paddingRight:"10px",border:c.password?"1px solid var(--red-8)":void 0},children:[e.jsx(F,{side:"left",children:e.jsx(ue,{size:14,color:"var(--gray-9)"})}),e.jsx(F,{side:"right",children:e.jsx("button",{type:"button",onClick:()=>l(!d),style:{background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center"},children:d?e.jsx(me,{size:14,color:"var(--gray-9)"}):e.jsx(he,{size:14,color:"var(--gray-9)"})})})]}),c.password&&e.jsx(k,{size:"1",color:"red",mt:"1",children:c.password})]}),e.jsxs(P,{justify:"between",align:"center",width:"100%",mt:"2",children:[e.jsxs(P,{align:"center",gap:"2",children:[e.jsx(X,{checked:m,onCheckedChange:r=>u(!!r),size:"2"}),e.jsx(k,{size:"2",color:"gray",children:"Remember me"})]}),e.jsx(pe,{to:"/forgot-password",style:{textDecoration:"none"},children:e.jsx(k,{size:"2",color:"blue",style:{cursor:"pointer"},children:"Forgot password?"})})]}),e.jsx(fe,{variant:"solid",color:"blue",size:"3",type:"submit",disabled:p,style:{width:"100%",height:"44px",fontWeight:"500"},children:p?e.jsx(P,{align:"center",gap:"2",children:e.jsx(xe,{size:"2"})}):"Sign In"})]})})})}),i&&e.jsx(Le,{message:i,type:"error",onClose:()=>h(void 0)})]})};export{Oe as default};
