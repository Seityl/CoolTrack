import{D as J,h as Z,r as y,G as V,j as e,p as n,n as p,x as Q,H as _,I as ee,m as a,k as I,J as F,K as re,A as te,M as se,w as L,L as B,N as U,O as ne,Q as q,R as ae,S as ie,T as oe,U as le,V as de,t as ce}from"./index-BsqRx7K0.js";import{d as M}from"./dayjs.min-BTu-00TD.js";import{R as xe,A as ge,X as he,Y as ue,C as pe,T as me,a as fe}from"./AreaChart-BFYWM4dc.js";import{o as K}from"./grid-C-tyneNj.js";import{o as j}from"./card-Cl9jFH-U.js";var W={exports:{}},je=W.exports,P;function ye(){return P||(P=1,function(s,w){(function(r,x){s.exports=x()})(je,function(){return function(r,x,D){r=r||{};var f=x.prototype,$={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function N(u,i,m,S){return f.fromToBase(u,i,m,S)}D.en.relativeTime=$,f.fromToBase=function(u,i,m,S,R){for(var o,l,H,T=m.$locale().relativeTime||$,g=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],O=g.length,k=0;k<O;k+=1){var b=g[k];b.d&&(o=S?D(u).diff(m,b.d,!0):m.diff(u,b.d,!0));var d=(r.rounding||Math.round)(Math.abs(o));if(H=o>0,d<=b.r||!b.r){d<=1&&k>0&&(b=g[k-1]);var t=T[b.l];R&&(d=R(""+d)),l=typeof t=="string"?t.replace("%d",d):t(d,i,b.l,H);break}}if(i)return l;var c=H?T.future:T.past;return typeof c=="function"?c(l):c.replace("%s",l)},f.to=function(u,i){return N(u,i,this,!0)},f.from=function(u,i){return N(u,i,this)};var v=function(u){return u.$u?D.utc():D()};f.toNow=function(u){return this.to(v(this),u)},f.fromNow=function(u){return this.from(v(this),u)}}})}(W)),W.exports}var ve=ye();const be=J(ve);M.extend(be);const C=(s,w)=>{var x;if(!w.max_acceptable_temperature)return"normal";const r=(x=w.max_acceptable_temperature)!=null?x:1/0;return s>r?"danger":"safe"},A=s=>{switch(s){case"danger":return{background:"var(--red-2)",border:"var(--red-6)",text:"#dc2626",icon:"var(--red-9)",gradientId:"dangerGradient"};case"safe":return{background:"var(--green-2)",border:"var(--green-6)",text:"#16a34a",icon:"var(--green-9)",gradientId:"safeGradient"};default:return{background:"var(--green-2)",border:"var(--green-6)",text:"#16a34a",icon:"var(--green-9)",gradientId:"normalGradient"}}},we=({stats:s})=>e.jsxs(j,{style:{borderRadius:"16px",border:"1px solid var(--gray-6)",background:"var(--color-surface)",marginBottom:"24px",padding:"20px"},children:[e.jsx(n,{justify:"between",align:"center",mb:"4",children:e.jsx(I,{size:"4",weight:"medium",children:"Quick Actions"})}),e.jsxs(K,{columns:{initial:"2",sm:"4"},gap:"3",children:[e.jsx(_.div,{whileHover:{scale:1.02},children:e.jsx(L,{variant:"soft",asChild:!0,style:{height:"72px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"12px",borderRadius:"12px",gap:"6px",width:"100%"},children:e.jsxs(B,{to:"/notifications",children:[e.jsx(ne,{size:18}),e.jsx(a,{size:"2",weight:"medium",children:"View Alerts"})]})})}),e.jsx(_.div,{whileHover:{scale:1.02},children:e.jsx(L,{variant:"soft",asChild:!0,style:{height:"72px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"12px",borderRadius:"12px",gap:"6px",width:"100%"},children:e.jsxs(B,{to:"/sensors",children:[e.jsx(q,{size:18}),e.jsx(a,{size:"2",weight:"medium",children:"Manage Sensors"}),s.pendingSensors>0&&e.jsxs(F,{color:"blue",size:"1",children:[s.pendingSensors," pending"]})]})})}),e.jsx(_.div,{whileHover:{scale:1.02},children:e.jsx(L,{variant:"soft",asChild:!0,style:{height:"72px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"12px",borderRadius:"12px",gap:"6px",width:"100%"},children:e.jsxs(B,{to:"/history",children:[e.jsx(ae,{size:18}),e.jsx(a,{size:"2",weight:"medium",children:"Data History"})]})})}),e.jsx(_.div,{whileHover:{scale:1.02},children:e.jsx(L,{variant:"soft",asChild:!0,style:{height:"72px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"12px",borderRadius:"12px",gap:"6px",width:"100%"},children:e.jsxs(B,{to:"/maintenance",children:[e.jsx(ie,{size:18}),e.jsx(a,{size:"2",weight:"medium",children:"Add Maintenance"}),s.maintenanceSensors>0&&e.jsxs(F,{color:"orange",size:"1",children:[s.maintenanceSensors," active"]})]})})})]})]}),X=({sensor:s,onExpand:w,isCompact:r=!1,isExpanded:x=!1,refreshKey:D})=>{const f=M(),$=f.subtract(24,"hours"),N=y.useMemo(()=>({startDate:$.format("YYYY-MM-DD HH:mm:ss"),endDate:f.format("YYYY-MM-DD HH:mm:ss")}),[$,f]),{data:v,isLoading:u}=V("Sensor Read",{fields:["name","sensor_id","sensor_type","temperature","voltage","signal_strength","gateway_id","timestamp"],filters:[["sensor_id","=",s.sensor_id],["timestamp",">=",N.startDate],["timestamp","<=",N.endDate]],orderBy:{field:"timestamp",order:"asc"},limit:500},`${s.sensor_id}-${r?"compact":"detailed"}-24h-${D||0}`,{revalidateOnFocus:!1,revalidateOnReconnect:!1}),i=y.useMemo(()=>{if(!v||v.length===0)return[];if(r){const t=new Map;return v.forEach(h=>{const Y=M(h.timestamp),z=Math.floor(Y.minute()/15)*15,G=Y.minute(z).second(0).millisecond(0),E=G.valueOf();t.has(E)||t.set(E,{readings:[],intervalStart:G}),t.get(E).readings.push(h)}),Array.from(t.values()).map(h=>{const Y=h.readings.reduce((G,E)=>G+parseFloat(E.temperature),0)/h.readings.length,z=h.readings.reduce((G,E)=>G+parseFloat(E.voltage||"0"),0)/h.readings.length;return{time:h.intervalStart.format("HH:mm"),temperature:Y,voltage:z,fullTime:h.intervalStart.format("MMM DD, YYYY HH:mm"),timestamp:h.intervalStart.toISOString(),readingCount:h.readings.length}}).sort((h,Y)=>M(h.timestamp).valueOf()-M(Y.timestamp).valueOf())}else return v.map(t=>{const c=M(t.timestamp);return{time:c.format("HH:mm"),temperature:parseFloat(t.temperature),voltage:parseFloat(t.voltage||"0"),fullTime:c.format("MMM DD, YYYY HH:mm:ss"),timestamp:t.timestamp,originalReading:t}}).sort((t,c)=>M(t.timestamp).valueOf()-M(c.timestamp).valueOf())},[v,r]),m=y.useMemo(()=>{if(!v||v.length===0)return null;const t=[...v].sort((c,h)=>M(h.timestamp).valueOf()-M(c.timestamp).valueOf());return parseFloat(t[0].temperature)},[v]),S=m!==null?C(m,s):"normal",o=A(S==="danger"?"danger":"safe"),l=t=>`${t.toFixed(1)}°C`,H=i.length>0?i.reduce((t,c)=>t+c.temperature,0)/i.length:0,T=i.length>0?Math.min(...i.map(t=>t.temperature)):0,g=i.length>0?Math.max(...i.map(t=>t.temperature)):0,O=C(H,s),k=C(T,s),b=C(g,s),d=r?180:350;return e.jsxs(j,{style:{borderRadius:"16px",border:S==="danger"?`2px solid ${o.border}`:"1px solid var(--gray-6)",background:"var(--color-surface)",overflow:"hidden",height:"100%",cursor:x?"default":"pointer",transition:"all 0.2s ease",position:"relative"},onClick:x?void 0:w,children:[S==="danger"&&m!==null&&e.jsx(p,{style:{position:"absolute",top:"8px",right:"8px",padding:"4px 8px",background:"var(--red-9)",color:"white",borderRadius:"6px",fontSize:r?"10px":"11px",fontWeight:"bold",zIndex:2,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},children:"ALERT"}),e.jsxs(p,{style:{padding:r?"16px 16px 12px":"24px 24px 16px"},children:[e.jsxs(n,{justify:"between",align:"center",mb:r?"3":"4",children:[e.jsxs(n,{align:"center",gap:"3",children:[e.jsx(p,{style:{padding:"8px",borderRadius:"8px",background:o.background,border:`1px solid ${o.border}`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(q,{size:16,color:o.icon})}),e.jsxs(p,{children:[e.jsx(a,{weight:"bold",mr:"2",size:r?"2":"3",children:s.sensor_name||s.sensor_id}),e.jsxs(a,{size:"1",color:"gray",children:[s.sensor_type," • Last 24 hours"]})]})]}),!x&&r&&e.jsx(p,{style:{opacity:.6},children:e.jsx(le,{size:10,color:"var(--gray-9)"})})]}),!r&&e.jsxs(p,{style:{marginBottom:"16px"},children:[e.jsx(j,{style:{background:o.background,border:`2px solid ${o.border}`,borderRadius:"12px",padding:"16px",marginBottom:"12px"},children:e.jsx(n,{justify:"center",align:"center",children:e.jsxs(p,{style:{textAlign:"center"},children:[e.jsx(a,{size:"2",color:"gray",weight:"medium",style:{textTransform:"uppercase",letterSpacing:"0.5px"},children:"Current Temperature"}),e.jsxs(n,{align:"center",justify:"center",gap:"2",mt:"1",children:[e.jsx(a,{size:"6",weight:"bold",style:{color:o.text},children:m!==null?l(m):"--°C"}),S==="danger"&&e.jsx(F,{color:"red",size:"2",children:"ALERT"}),S==="safe"&&e.jsx(F,{color:"green",size:"2",children:"NORMAL"})]})]})})}),e.jsxs(K,{columns:{initial:"1",xs:"3"},gap:"2",children:[e.jsxs(j,{style:{background:A(O==="danger"?"danger":"safe").background,border:`1px solid ${A(O==="danger"?"danger":"safe").border}`,padding:"12px",position:"relative",textAlign:"center"},children:[O==="danger"&&e.jsx(p,{style:{position:"absolute",top:"4px",right:"4px",padding:"2px 4px",background:"var(--red-9)",color:"white",borderRadius:"4px",fontSize:"8px",fontWeight:"bold",lineHeight:1},children:"OUT"}),e.jsx(a,{size:"1",color:"gray",weight:"medium",style:{textTransform:"uppercase",letterSpacing:"0.5px",display:"block",marginBottom:"4px"},children:"24h Avg"}),e.jsx(a,{size:"4",weight:"bold",style:{color:A(O==="danger"?"danger":"safe").text},children:l(H)})]}),e.jsxs(j,{style:{background:A(k==="danger"?"danger":"safe").background,border:`1px solid ${A(k==="danger"?"danger":"safe").border}`,padding:"12px",position:"relative",textAlign:"center"},children:[k==="danger"&&e.jsx(p,{style:{position:"absolute",top:"4px",right:"4px",padding:"2px 4px",background:"var(--red-9)",color:"white",borderRadius:"4px",fontSize:"8px",fontWeight:"bold",lineHeight:1},children:"OUT"}),e.jsx(a,{size:"1",color:"gray",weight:"medium",style:{textTransform:"uppercase",letterSpacing:"0.5px",display:"block",marginBottom:"4px"},children:"24h Min"}),e.jsx(a,{size:"4",weight:"bold",style:{color:A(k==="danger"?"danger":"safe").text},children:l(T)})]}),e.jsxs(j,{style:{background:A(b==="danger"?"danger":"safe").background,border:`1px solid ${A(b==="danger"?"danger":"safe").border}`,padding:"12px",position:"relative",textAlign:"center"},children:[b==="danger"&&e.jsx(p,{style:{position:"absolute",top:"4px",right:"4px",padding:"2px 4px",background:"var(--red-9)",color:"white",borderRadius:"4px",fontSize:"8px",fontWeight:"bold",lineHeight:1},children:"OUT"}),e.jsx(a,{size:"1",color:"gray",weight:"medium",style:{textTransform:"uppercase",letterSpacing:"0.5px",display:"block",marginBottom:"4px"},children:"24h Max"}),e.jsx(a,{size:"4",weight:"bold",style:{color:A(b==="danger"?"danger":"safe").text},children:l(g)})]})]})]})]}),e.jsx(p,{style:{padding:r?"0 16px 16px":"0 24px 24px"},children:u?e.jsx(n,{justify:"center",align:"center",py:"6",children:e.jsx(p,{style:{textAlign:"center"},children:e.jsx(Q,{size:"2",style:{marginBottom:"8px"}})})}):i.length===0?e.jsxs(j,{style:{border:"1px dashed var(--gray-6)",borderRadius:"8px",background:"var(--gray-2)",padding:r?"24px":"48px",textAlign:"center"},children:[e.jsx(p,{style:{opacity:.6,marginBottom:"8px"},children:e.jsx(de,{size:20,color:"var(--gray-9)"})}),e.jsx(a,{size:"2",color:"gray",weight:"medium",children:"No data available in last 24 hours"})]}):e.jsxs(e.Fragment,{children:[e.jsx(j,{style:{background:"var(--color-surface)",border:`1px solid ${o.border}`,borderRadius:"8px",padding:r?"8px":"16px"},children:e.jsx(xe,{width:"100%",height:d,children:e.jsxs(ge,{data:i,margin:{top:5,right:5,left:5,bottom:5},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:`${o.gradientId}-${s.sensor_id}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:o.icon,stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:o.icon,stopOpacity:.05})]})}),e.jsx(he,{dataKey:"time",tick:{fill:"var(--gray-9)",fontSize:r?8:10},tickMargin:4,axisLine:{stroke:"var(--gray-6)"},angle:-45,textAnchor:"end",height:r?35:60,interval:Math.floor(r?i.length/8:i.length/12)}),e.jsx(ue,{domain:["dataMin - 1","dataMax + 1"],tickFormatter:r?t=>`${t.toFixed(0)}°`:l,tick:{fill:"var(--gray-9)",fontSize:r?8:11},axisLine:{stroke:"var(--gray-6)"},width:r?35:50}),e.jsx(pe,{stroke:"var(--gray-5)",strokeDasharray:"2 2",opacity:r?.3:1}),!r&&e.jsx(me,{contentStyle:{backgroundColor:"var(--color-surface)",border:"1px solid var(--gray-6)",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",fontSize:"12px"},formatter:(t,c)=>c==="temperature"?[l(t),"Temperature"]:[t,c],labelFormatter:t=>{const c=i.find(h=>h.time===t);return c?c.fullTime:`Time: ${t}`}}),e.jsx(fe,{type:"monotone",dataKey:"temperature",stroke:o.icon,strokeWidth:r?1.5:2,fill:`url(#${o.gradientId}-${s.sensor_id})`,dot:!1,activeDot:r?!1:{r:4,strokeWidth:2,fill:o.icon,stroke:"var(--color-surface)"}})]})})}),r&&e.jsxs(n,{justify:"between",align:"center",mt:"2",children:[e.jsx(a,{size:"1",color:"gray",children:e.jsxs("span",{children:[l(H)," avg"]})}),e.jsxs(n,{align:"center",gap:"2",children:[m!==null&&e.jsxs(a,{size:"2",weight:"bold",style:{color:A(S).text},children:["Latest: ",l(m)]}),S==="danger"&&e.jsx(F,{color:"red",size:"1",style:{fontSize:"9px"},children:"ALERT"})]})]}),!r&&e.jsx(n,{justify:"between",align:"center",mt:"3",pt:"3",children:e.jsx(L,{variant:"ghost",size:"2",asChild:!0,children:e.jsxs(B,{to:`/sensors/${s.name}`,children:[e.jsx(ce,{style:{marginRight:"6px"}}),"View Details"]})})})]})})]})},Se=({sensors:s,onSensorExpand:w,refreshKey:r})=>s.length?e.jsxs(p,{children:[e.jsx(n,{justify:"between",align:"center",mb:"4",children:e.jsx(I,{size:"4",weight:"medium",children:"Recent Sensor Data"})}),e.jsx(K,{columns:{initial:"1",sm:"2",lg:"3"},gap:"4",children:s.map((x,D)=>e.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:D*.1},children:e.jsx(X,{sensor:x,onExpand:()=>w(x),isCompact:!0,refreshKey:r})},x.sensor_id))})]}):e.jsx(j,{children:e.jsx(n,{justify:"center",align:"center",py:"8",children:e.jsx(a,{color:"gray",children:"No sensors available"})})}),ze=({sensor:s,onBack:w,refreshKey:r})=>e.jsxs(p,{children:[e.jsxs(L,{variant:"solid",size:"3",onClick:w,style:{marginBottom:"24px",background:"var(--blue-9)",color:"white",padding:"12px 24px",borderRadius:"12px",fontSize:"14px",fontWeight:"600",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",border:"none"},children:[e.jsx(oe,{style:{marginRight:"8px"}}),"Back to Grid View"]}),e.jsx(X,{sensor:s,onExpand:()=>{},isCompact:!1,isExpanded:!0,refreshKey:r})]}),_e=()=>{const{currentUser:s}=Z(),[w,r]=y.useState(null),[x,D]=y.useState(0),f=y.useRef(null),$=y.useCallback(()=>{D(d=>d+1)},[]);y.useEffect(()=>(f.current=setInterval(()=>{$()},18e4),()=>{f.current&&clearInterval(f.current)}),[$]),y.useEffect(()=>()=>{f.current&&clearInterval(f.current)},[]);const{data:N,isLoading:v}=V("Sensor",{fields:["name","sensor_name","sensor_id","sensor_type","status","approval_status","gateway_location","installation_date","last_calibration","max_acceptable_temperature","min_acceptable_temperature","modified"],limit:50,orderBy:{field:"modified",order:"desc"}},`sensors-${x}`,{revalidateOnFocus:!1}),{data:u,isLoading:i}=V("Sensor Gateway",{fields:["name","gateway_type","status","approval_status","last_heartbeat","location","number_of_transmissions","modified"],limit:50,orderBy:{field:"modified",order:"desc"}},`gateways-${x}`,{revalidateOnFocus:!1}),{data:m,isLoading:S}=V("Notification Log",{fields:["name","subject","creation","read","type","for_user"],filters:[["for_user","=",s],["type","=","Alert"]],limit:1e4,orderBy:{field:"creation",order:"desc"}},s?`alerts-${s}-${x}`:null,{revalidateOnFocus:!1,revalidateOnReconnect:!0});y.useEffect(()=>{s&&!m&&$()},[s,m,$]);const R=N||[],o=u||[],l=m||[],H=y.useMemo(()=>R.slice(0,6),[R]),T=y.useMemo(()=>l.slice(0,5),[l]),g=y.useMemo(()=>{const d=R.filter(z=>z.status==="Active").length,t=R.filter(z=>z.approval_status==="Pending").length,c=R.filter(z=>z.status==="Maintenance").length,h=o.filter(z=>z.status==="Active").length,Y=l.filter(z=>!z.read).length;return{totalSensors:R.length,activeSensors:d,pendingSensors:t,maintenanceSensors:c,totalGateways:o.length,activeGateways:h,unreadAlerts:Y}},[R,o,l]),O=y.useCallback(d=>{r(d)},[]),k=y.useCallback(()=>{r(null)},[]);return v||i||S&&s?e.jsx(n,{justify:"center",align:"center",className:"h-[80vh]",children:e.jsx(p,{style:{textAlign:"center"},children:e.jsx(Q,{size:"3",style:{marginBottom:"16px"}})})}):e.jsxs(p,{className:"min-h-screen bg-gray-50 p-4 md:p-6",children:[e.jsxs(K,{columns:{initial:"1",sm:"2",lg:"3"},gap:"4",mb:"6",children:[e.jsx(_.div,{whileHover:{y:-2},children:e.jsx(j,{size:"3",style:{height:"120px"},children:e.jsxs(n,{gap:"4",align:"center",height:"100%",children:[e.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:e.jsx(ee,{className:"text-blue-600 text-xl"})}),e.jsxs(n,{direction:"column",gap:"1",children:[e.jsx(a,{size:"2",color:"gray",children:"Active Sensors"}),e.jsxs(I,{size:"6",children:[g.activeSensors,"/",g.totalSensors]}),e.jsxs(n,{gap:"2",align:"center",children:[g.pendingSensors>0&&e.jsxs(F,{color:"blue",size:"1",children:[g.pendingSensors," pending"]}),g.maintenanceSensors>0&&e.jsxs(F,{color:"orange",size:"1",children:[g.maintenanceSensors," maintenance"]})]})]})]})})}),e.jsx(_.div,{whileHover:{y:-2},children:e.jsx(j,{size:"3",style:{height:"120px"},children:e.jsxs(n,{gap:"4",align:"center",height:"100%",children:[e.jsx("div",{className:"p-3 rounded-full bg-green-100",children:e.jsx(re,{className:"text-green-600 text-xl"})}),e.jsxs(n,{direction:"column",gap:"1",children:[e.jsx(a,{size:"2",color:"gray",children:"Online Gateways"}),e.jsxs(I,{size:"6",children:[g.activeGateways,"/",g.totalGateways]})]})]})})}),e.jsx(_.div,{whileHover:{y:-2},children:e.jsx(j,{size:"3",style:{height:"120px"},children:e.jsxs(n,{gap:"4",align:"center",height:"100%",children:[e.jsx("div",{className:"p-3 rounded-full bg-red-100",children:e.jsx(te,{className:"text-red-600 text-xl"})}),e.jsxs(n,{direction:"column",gap:"1",children:[e.jsx(a,{size:"2",color:"gray",children:"Unread Alerts"}),e.jsx(I,{size:"6",children:g.unreadAlerts})]})]})})})]}),e.jsx(we,{stats:g}),e.jsx(p,{mb:"6",children:e.jsx(se,{mode:"wait",children:w?e.jsx(_.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},children:e.jsx(ze,{sensor:w,onBack:k,refreshKey:x})},"detail"):e.jsx(_.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},children:e.jsx(Se,{sensors:H,onSensorExpand:O,refreshKey:x})},"grid")})}),!w&&e.jsxs(j,{children:[e.jsxs(n,{justify:"between",align:"center",mb:"4",children:[e.jsxs(n,{align:"center",gap:"2",children:[e.jsx(I,{size:"5",children:"Recent Alerts"}),g.unreadAlerts>0&&e.jsxs(F,{color:"red",size:"2",children:[g.unreadAlerts," unread"]})]}),l.length>5?e.jsx(L,{variant:"ghost",asChild:!0,children:e.jsxs(B,{to:"/notifications",children:["View All (",l.length,") ",e.jsx(U,{className:"ml-2"})]})}):e.jsx(L,{variant:"ghost",asChild:!0,children:e.jsxs(B,{to:"/notifications",children:["View All ",e.jsx(U,{className:"ml-2"})]})})]}),e.jsxs(n,{direction:"column",gap:"3",children:[T!=null&&T.length?T.map(d=>e.jsx(_.div,{whileHover:{x:2},children:e.jsx(j,{className:`${d.read?"":"border-l-4 border-red-500"}`,children:e.jsxs(n,{direction:"column",gap:"2",children:[e.jsxs(n,{justify:"between",align:"start",children:[e.jsx(a,{weight:"bold",style:{flex:1},children:d.subject}),!d.read&&e.jsx(F,{color:"red",size:"1",children:"New"})]}),e.jsxs(n,{justify:"between",align:"center",children:[e.jsx(a,{size:"2",color:"gray",children:M(d.creation).format("MMM D, YYYY HH:mm")}),e.jsx(a,{size:"1",color:"gray",children:M(d.creation).fromNow()})]})]})})},d.name)):e.jsx(j,{children:e.jsx(n,{justify:"center",align:"center",py:"4",children:e.jsx(a,{color:"gray",children:"No recent alerts"})})}),l.length>5&&e.jsx(j,{style:{border:"1px dashed var(--gray-6)",background:"var(--gray-2)"},children:e.jsx(n,{justify:"center",align:"center",py:"3",children:e.jsx(L,{variant:"ghost",asChild:!0,children:e.jsx(B,{to:"/notifications",children:e.jsxs(a,{size:"2",color:"gray",children:["+ ",l.length-5," more alerts"]})})})})})]})]})]})};export{_e as default};
