var Ne=Object.defineProperty,Ee=Object.defineProperties;var Fe=Object.getOwnPropertyDescriptors;var L=Object.getOwnPropertySymbols;var ie=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable;var se=(a,o,t)=>o in a?Ne(a,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[o]=t,c=(a,o)=>{for(var t in o||(o={}))ie.call(o,t)&&se(a,t,o[t]);if(L)for(var t of L(o))le.call(o,t)&&se(a,t,o[t]);return a},h=(a,o)=>Ee(a,Fe(o));var ne=(a,o)=>{var t={};for(var x in a)ie.call(a,x)&&o.indexOf(x)<0&&(t[x]=a[x]);if(a!=null&&L)for(var x of L(a))o.indexOf(x)<0&&le.call(a,x)&&(t[x]=a[x]);return t};var W=(a,o,t)=>new Promise((x,w)=>{var s=d=>{try{l(t.next(d))}catch(v){w(v)}},N=d=>{try{l(t.throw(d))}catch(v){w(v)}},l=d=>d.done?x(d.value):Promise.resolve(d.value).then(s,N);l((t=t.apply(a,o)).next())});import{aL as G,r as j,v as Ae,aM as _e,aN as Te,aO as $e,aP as De,aQ as Me,y as Ie,m as n,aR as Ve,a6 as Oe,i as Le,G as H,ay as We,aS as He,j as e,n as p,p as i,ax as te,O as Y,w as m,aw as oe,C as Ue,k as R,aT as Pe,aU as qe,x as de,as as Be,aV as Je,J as y,a1 as ce,aW as xe,az as he,F as Q,aI as Ge,B as Qe}from"./index-BsqRx7K0.js";import{o as g}from"./card-Cl9jFH-U.js";import{o as pe}from"./grid-C-tyneNj.js";import{u as U}from"./text-field-DqTx62B3.js";import{C as $,u as D,g as M,v as S}from"./select-BJhAaAVF.js";import{r as Ye}from"./text-area-BqcxPxwB.js";import{c as Ke,m as ue,d as ge,P as A,f as k,b as je,T as b}from"./table-B-dRJlEl.js";import"./icons-oFCLfhG6.js";import"./index-UYpWDUL8.js";import"./index-CFk86qM9.js";import"./index-BiKMrQoy.js";import"./get-subtree-B9iClb7p.js";const Xe={content:{type:"ReactNode",required:!0},width:G.width,minWidth:G.minWidth,maxWidth:h(c({},G.maxWidth),{default:"360px"})},ve=j.forwardRef((a,o)=>{const V=Ae(a,Xe),{children:t,className:x,open:w,defaultOpen:s,onOpenChange:N,delayDuration:l,disableHoverableContent:d,content:v,container:_,forceMount:f}=V,E=ne(V,["children","className","open","defaultOpen","onOpenChange","delayDuration","disableHoverableContent","content","container","forceMount"]),I={open:w,defaultOpen:s,onOpenChange:N,delayDuration:l,disableHoverableContent:d};return j.createElement(_e,c({},I),j.createElement(Te,{asChild:!0},t),j.createElement($e,{container:_,forceMount:f},j.createElement(De,{asChild:!0},j.createElement(Me,h(c({sideOffset:4,collisionPadding:10},E),{asChild:!1,ref:o,className:Ie("rt-TooltipContent",x)}),j.createElement(n,{as:"p",className:"rt-TooltipText",size:"1"},v),j.createElement(Ve,{className:"rt-TooltipArrow"})))))});ve.displayName="Tooltip";const me={Email:e.jsx(Qe,{size:16,color:"#10B981"}),SMS:e.jsx(Ge,{size:16,color:"#3B82F6"}),"System Notification":e.jsx(Y,{size:16,color:"#F59E0B"})},be={Email:"green",SMS:"blue","System Notification":"amber"},hr=()=>{var ae;const{id:a}=Oe();console.log("Alert Name:",a);const o=decodeURIComponent(a||"default-alert-name");console.log("Decoded Alert Name:",o);const t=Le(),[x,w]=j.useState(!1),[s,N]=j.useState(null),[l,d]=j.useState({}),[v,_]=j.useState({receiver_by_role:"",condition:""}),[f,E]=j.useState({field:"",operator:"==",value:""}),[I,V]=j.useState(!1),{data:T,isLoading:P,error:K,mutate:ye}=H("Notification",{fields:["name","subject","enabled","channel","event","creation","document_type","message","condition","send_system_notification"],filters:[["name","=",a||""]],limit:1}),{data:X}=H("Notification Recipient",{fields:["receiver_by_role","condition"],filters:[["parent","=",a||""]]}),{data:q}=H("DocType",{fields:["name"],filters:[["name","in",["Sensor","Sensor Gateway"]],["istable","=",0]]}),{data:B}=H("Role",{fields:["name"],filters:[["name","in",["Administrator","System Manager","Maintenance Manager","Maintenance User"]]]}),{updateDoc:Z,loading:J}=We(),{deleteDoc:fe,loading:ee}=He(),O=()=>{ye()};j.useEffect(()=>{T&&T.length>0&&(N(T[0]),d(T[0]))},[T]);const Ce=()=>W(void 0,null,function*(){if(a)try{yield Z("Notification",a,l),w(!1),O()}catch(r){console.error("Error updating alert:",r)}}),Re=()=>W(void 0,null,function*(){if(a)try{yield fe("Notification",a),t("/alerts")}catch(r){console.error("Error deleting alert:",r)}}),we=()=>W(void 0,null,function*(){if(!(!a||!s))try{yield Z("Notification",a,{enabled:!s.enabled}),N(r=>r?h(c({},r),{enabled:!r.enabled}):null),O()}catch(r){console.error("Error toggling alert status:",r)}}),ze=r=>r?r.split(" and ").map(z=>{const C=z.trim().split(/\s+/);return{field:C[0].replace("doc.",""),operator:C[1],value:C[2].replace(/"/g,"")}}):[],re=[{value:"New",label:"Creation"},{value:"Cancel",label:"Rejection"},{value:"Value Change",label:"Value Change"},{value:"Custom",label:"Custom Event"}],Se=[{value:"==",label:"equals"},{value:"!=",label:"not equals"},{value:">",label:"greater than"},{value:"<",label:"less than"},{value:">=",label:"greater than or equal"},{value:"<=",label:"less than or equal"},{value:"in",label:"in list"},{value:"not in",label:"not in list"}],ke=[{label:"Status is Active",value:'doc.status == "Active"'},{label:"Value exceeds threshold",value:"doc.value > 100"},{label:"Date is in the past",value:"doc.date < frappe.utils.nowdate()"},{label:"Field is not empty",value:"doc.fieldname"}];if(P||!s)return e.jsx(p,{p:"4",style:{background:"var(--gray-1)"},children:e.jsx(g,{style:{border:"1px solid var(--gray-6)",borderRadius:"12px"},children:e.jsxs(i,{justify:"center",align:"center",py:"8",gap:"3",children:[e.jsx(te,{className:"animate-spin",size:20,color:"var(--blue-9)",style:{animation:"spin 1s linear infinite"}}),e.jsx(n,{size:"3",weight:"medium",color:"gray",children:"Loading alert details..."})]})})});if(K)return e.jsx(p,{p:"4",style:{background:"var(--gray-1)"},children:e.jsx(g,{variant:"surface",style:{border:"1px solid var(--red-6)",borderRadius:"12px",background:"var(--red-2)"},children:e.jsxs(i,{direction:"column",align:"center",gap:"3",py:"6",children:[e.jsx(p,{style:{opacity:.8},children:e.jsx(Y,{size:24,color:"var(--red-9)"})}),e.jsx(n,{color:"red",weight:"bold",size:"3",children:"Failed to load alert"}),e.jsx(n,{color:"red",size:"2",style:{textAlign:"center",maxWidth:"400px"},children:K.message}),e.jsx(m,{variant:"soft",color:"red",onClick:O,style:{borderRadius:"8px"},children:e.jsxs(i,{align:"center",gap:"2",children:[e.jsx(oe,{size:14}),"Retry"]})})]})})});const F=ze(s.condition);return e.jsxs(p,{p:"4",style:{background:"var(--gray-1)"},children:[e.jsxs(i,{justify:"between",align:"center",mb:"6",children:[e.jsxs(i,{align:"center",gap:"4",children:[e.jsx(m,{variant:"soft",onClick:()=>t("/alerts"),style:{borderRadius:"8px"},children:e.jsx(Ue,{size:14})}),e.jsxs(i,{align:"center",gap:"3",children:[e.jsx(p,{style:{padding:"12px",borderRadius:"12px",background:s.enabled?"var(--green-3)":"var(--gray-3)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Y,{size:24,color:s.enabled?"var(--green-11)":"var(--gray-11)"})}),e.jsxs(p,{children:[e.jsx(n,{size:"1",color:"gray",weight:"medium",style:{letterSpacing:"0.5px"},children:"ALERT DETAILS"}),e.jsx(R,{size:"7",weight:"bold",style:{marginTop:"2px"},children:s.subject})]})]})]}),e.jsxs(i,{gap:"3",align:"center",children:[e.jsx(n,{size:"2",color:"gray",children:new Date().toLocaleString("en-US",{weekday:"long",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}),e.jsx(m,{variant:"soft",onClick:O,disabled:P,style:{borderRadius:"8px"},children:e.jsxs(i,{align:"center",gap:"2",children:[P?e.jsx(te,{className:"animate-spin"}):e.jsx(oe,{}),"Refresh"]})}),e.jsxs(m,{variant:"soft",color:s.enabled?"green":"gray",onClick:we,disabled:J,style:{borderRadius:"8px"},children:[s.enabled?e.jsx(Pe,{className:"mr-2"}):e.jsx(qe,{className:"mr-2"}),s.enabled?"Active":"Inactive"]}),x?e.jsxs(e.Fragment,{children:[e.jsx(m,{variant:"soft",color:"gray",onClick:()=>w(!1),style:{borderRadius:"8px"},children:"Cancel"}),e.jsx(m,{onClick:Ce,disabled:J,style:{borderRadius:"8px"},children:J?e.jsx(de,{}):"Save Changes"})]}):e.jsxs(e.Fragment,{children:[e.jsxs(m,{variant:"soft",onClick:()=>w(!0),style:{borderRadius:"8px"},children:[e.jsx(Be,{className:"mr-2"})," Edit"]}),e.jsxs(m,{color:"red",onClick:Re,disabled:ee,style:{borderRadius:"8px"},children:[ee?e.jsx(de,{}):e.jsx(Je,{className:"mr-2"}),"Delete"]})]})]})]}),e.jsxs(i,{gap:"3",mb:"6",children:[e.jsx(y,{color:s.enabled?"green":"gray",variant:"soft",style:{borderRadius:"20px",padding:"6px 12px",fontSize:"12px",fontWeight:"500",letterSpacing:"0.3px"},children:s.enabled?"Active":"Inactive"}),e.jsx(y,{color:be[s.channel],variant:"soft",style:{borderRadius:"20px",padding:"6px 12px",fontSize:"12px",fontWeight:"500",letterSpacing:"0.3px"},children:e.jsxs(i,{align:"center",gap:"1",children:[me[s.channel],s.channel]})}),e.jsx(y,{color:"blue",variant:"soft",style:{borderRadius:"20px",padding:"6px 12px",fontSize:"12px",fontWeight:"500",letterSpacing:"0.3px"},children:s.document_type})]}),e.jsxs(pe,{columns:{initial:"1",md:"2"},gap:"6",children:[e.jsxs(g,{style:{borderRadius:"12px",background:"var(--color-surface)",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1)",border:"1px solid var(--gray-6)"},children:[e.jsxs(i,{align:"center",gap:"3",mb:"4",children:[e.jsx(p,{style:{padding:"8px",borderRadius:"8px",background:"var(--blue-3)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(ce,{size:18,color:"var(--blue-11)"})}),e.jsx(R,{size:"5",weight:"bold",children:"Alert Details"})]}),x?e.jsxs(i,{direction:"column",gap:"4",children:[e.jsxs(p,{children:[e.jsx(n,{size:"2",weight:"medium",mb:"2",children:"Subject"}),e.jsx(U,{placeholder:"Alert Subject",value:l.subject||"",onChange:r=>d(h(c({},l),{subject:r.target.value})),style:{borderRadius:"8px"}})]}),e.jsxs(p,{children:[e.jsx(n,{size:"2",weight:"medium",mb:"2",children:"Document Type"}),e.jsxs($,{value:l.document_type||"",onValueChange:r=>d(h(c({},l),{document_type:r})),children:[e.jsx(D,{placeholder:"Select Document Type"}),e.jsx(M,{children:q==null?void 0:q.map(r=>e.jsx(S,{value:r.name,children:r.name},r.name))})]})]}),e.jsxs(p,{children:[e.jsx(n,{size:"2",weight:"medium",mb:"2",children:"Channel"}),e.jsxs($,{value:l.channel||"Email",onValueChange:r=>d(h(c({},l),{channel:r})),children:[e.jsx(D,{placeholder:"Select Channel"}),e.jsxs(M,{children:[e.jsx(S,{value:"Email",children:"Email"}),e.jsx(S,{value:"SMS",children:"SMS"}),e.jsx(S,{value:"System Notification",children:"System Notification"})]})]})]}),e.jsxs(p,{children:[e.jsx(n,{size:"2",weight:"medium",mb:"2",children:"Trigger Event"}),e.jsxs($,{value:l.event||"New",onValueChange:r=>d(h(c({},l),{event:r})),children:[e.jsx(D,{placeholder:"Select Trigger Event"}),e.jsx(M,{children:re.map(r=>e.jsx(S,{value:r.value,children:r.label},r.value))})]})]})]}):e.jsxs(i,{direction:"column",gap:"4",children:[e.jsxs(i,{align:"center",justify:"between",children:[e.jsx(n,{size:"2",color:"gray",weight:"medium",children:"Document Type"}),e.jsx(p,{style:{background:"var(--blue-2)",padding:"4px 8px",borderRadius:"12px"},children:e.jsx(n,{size:"2",weight:"bold",style:{color:"var(--blue-11)"},children:s.document_type})})]}),e.jsxs(i,{align:"center",justify:"between",children:[e.jsx(n,{size:"2",color:"gray",weight:"medium",children:"Channel"}),e.jsxs(i,{align:"center",gap:"2",children:[e.jsx(n,{size:"2",weight:"medium",style:{color:`var(--${be[s.channel]}-11)`,textTransform:"capitalize"},children:s.channel}),e.jsx(p,{style:{display:"flex",alignItems:"center"},children:me[s.channel]})]})]}),e.jsxs(i,{align:"center",justify:"between",children:[e.jsx(n,{size:"2",color:"gray",weight:"medium",children:"Trigger"}),e.jsx(p,{style:{background:"var(--gray-3)",padding:"4px 8px",borderRadius:"12px"},children:e.jsx(n,{size:"2",weight:"bold",children:((ae=re.find(r=>r.value===s.event))==null?void 0:ae.label)||s.event})})]}),e.jsxs(i,{direction:"column",gap:"1",children:[e.jsx(n,{size:"2",color:"gray",weight:"medium",children:"Created"}),e.jsx(n,{size:"2",weight:"medium",style:{fontFamily:"var(--font-mono, monospace)",fontSize:"11px",background:"var(--gray-2)",padding:"4px 6px",borderRadius:"4px",color:"var(--gray-11)"},children:new Date(s.creation).toLocaleString()})]})]})]}),e.jsxs(g,{style:{borderRadius:"12px",background:"var(--color-surface)",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1)",border:"1px solid var(--gray-6)"},children:[e.jsxs(i,{justify:"between",align:"center",mb:"4",children:[e.jsxs(i,{align:"center",gap:"3",children:[e.jsx(p,{style:{padding:"8px",borderRadius:"8px",background:"var(--amber-3)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(xe,{size:18,color:"var(--amber-11)"})}),e.jsx(R,{size:"5",weight:"bold",children:"Message Template"})]}),e.jsx(ve,{content:"Show Jinja2 Help",children:e.jsx(m,{variant:"ghost",size:"1",onClick:()=>V(!I),style:{borderRadius:"6px"},children:e.jsx(ce,{})})})]}),x?e.jsxs(e.Fragment,{children:[I&&e.jsxs(g,{mb:"4",style:{background:"var(--blue-2)",border:"1px solid var(--blue-6)",borderRadius:"8px"},children:[e.jsx(R,{size:"3",mb:"2",children:"Jinja2 Template Help"}),e.jsx(n,{mb:"2",children:"You can use these variables and filters in your templates:"}),e.jsxs(pe,{columns:"2",gap:"3",children:[e.jsxs(g,{style:{background:"var(--color-surface)"},children:[e.jsx(R,{size:"3",children:"Variables"}),e.jsxs(n,{as:"div",mb:"2",style:{fontFamily:"var(--font-mono, monospace)",fontSize:"11px"},children:[e.jsx("code",{children:"doc"})," - The document object",e.jsx("br",{}),e.jsx("code",{children:"frappe.utils.nowdate()"})," - Current date",e.jsx("br",{}),e.jsx("code",{children:"frappe.utils.get_url()"})," - System URL"]})]}),e.jsxs(g,{style:{background:"var(--color-surface)"},children:[e.jsx(R,{size:"3",children:"Common Examples"}),ke.map((r,u)=>e.jsxs(m,{variant:"soft",onClick:()=>d(h(c({},l),{message:l.message?`${l.message}
${r.value}`:r.value})),className:"mb-2",style:{borderRadius:"6px"},children:[e.jsx(xe,{className:"mr-2"})," ",r.label]},u))]})]})]}),e.jsx(Ye,{placeholder:`Example: Alert for {{ doc.name }}
Status: {{ doc.status }}
Value: {{ doc.value }}`,rows:8,value:l.message||"",onChange:r=>d(h(c({},l),{message:r.target.value})),style:{borderRadius:"8px"}})]}):e.jsx(g,{style:{background:"var(--gray-2)",border:"1px solid var(--gray-5)",borderRadius:"8px"},children:e.jsx(Ke,{style:{maxHeight:"300px"},children:e.jsx(n,{style:{fontFamily:"var(--font-mono, monospace)",fontSize:"12px",lineHeight:"1.5",whiteSpace:"pre-wrap"},children:s.message||"No message template defined"})})})]}),e.jsxs(g,{style:{borderRadius:"12px",background:"var(--color-surface)",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1)",border:"1px solid var(--gray-6)"},children:[e.jsxs(i,{align:"center",gap:"3",mb:"4",children:[e.jsx(p,{style:{padding:"8px",borderRadius:"8px",background:"var(--green-3)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(he,{size:18,color:"var(--green-11)"})}),e.jsx(R,{size:"5",weight:"bold",children:"Conditions"})]}),x?e.jsxs(e.Fragment,{children:[e.jsxs(ue,{children:[e.jsx(ge,{children:e.jsxs(A,{children:[e.jsx(k,{children:"Field"}),e.jsx(k,{children:"Operator"}),e.jsx(k,{children:"Value"}),e.jsx(k,{children:"Actions"})]})}),e.jsxs(je,{children:[F.map((r,u)=>e.jsxs(A,{children:[e.jsx(b,{children:e.jsx(y,{variant:"soft",color:"blue",children:r.field})}),e.jsx(b,{children:e.jsx(y,{variant:"soft",color:"gray",children:r.operator})}),e.jsx(b,{children:e.jsx(y,{variant:"soft",color:"amber",children:r.value})}),e.jsx(b,{children:e.jsx(m,{variant:"ghost",color:"red",onClick:()=>{const z=[...F];z.splice(u,1),d(h(c({},l),{condition:z.map(C=>`doc.${C.field} ${C.operator} ${isNaN(Number(C.value))?`"${C.value}"`:C.value}`).join(" and ")}))},style:{borderRadius:"6px"},children:"Remove"})})]},u)),e.jsxs(A,{children:[e.jsx(b,{children:e.jsx(U,{placeholder:"Field name",value:f.field,onChange:r=>E(h(c({},f),{field:r.target.value})),style:{borderRadius:"6px"}})}),e.jsx(b,{children:e.jsxs($,{value:f.operator,onValueChange:r=>E(h(c({},f),{operator:r})),children:[e.jsx(D,{}),e.jsx(M,{children:Se.map(r=>e.jsx(S,{value:r.value,children:r.label},r.value))})]})}),e.jsx(b,{children:e.jsx(U,{placeholder:"Value",value:f.value,onChange:r=>E(h(c({},f),{value:r.target.value})),style:{borderRadius:"6px"}})}),e.jsx(b,{children:e.jsx(m,{onClick:()=>{const r=[...F,f];d(h(c({},l),{condition:r.map(u=>`doc.${u.field} ${u.operator} ${isNaN(Number(u.value))?`"${u.value}"`:u.value}`).join(" and ")})),E({field:"",operator:"==",value:""})},style:{borderRadius:"6px"},children:"Add"})})]})]})]}),F.length>0&&e.jsxs(g,{mt:"4",style:{background:"var(--gray-2)",border:"1px solid var(--gray-5)",borderRadius:"8px"},children:[e.jsx(R,{size:"2",mb:"2",children:"Generated Condition"}),e.jsx(n,{as:"div",style:{fontFamily:"var(--font-mono, monospace)",fontSize:"11px",background:"var(--color-surface)",padding:"8px",borderRadius:"4px",border:"1px solid var(--gray-6)"},children:l.condition})]})]}):e.jsx(i,{direction:"column",gap:"3",children:F.length>0?F.map((r,u)=>e.jsx(g,{style:{background:"var(--gray-2)",border:"1px solid var(--gray-5)",borderRadius:"8px"},children:e.jsxs(i,{gap:"3",align:"center",children:[e.jsx(y,{variant:"soft",color:"blue",style:{fontSize:"11px"},children:r.field}),e.jsx(y,{variant:"soft",color:"gray",style:{fontSize:"11px"},children:r.operator}),e.jsx(y,{variant:"soft",color:"amber",style:{fontSize:"11px"},children:r.value})]})},u)):e.jsx(g,{style:{background:"var(--gray-2)",border:"1px dashed var(--gray-6)",borderRadius:"8px"},children:e.jsxs(i,{direction:"column",align:"center",gap:"2",py:"4",children:[e.jsx(p,{style:{opacity:.6},children:e.jsx(he,{size:24,color:"var(--gray-9)"})}),e.jsx(n,{color:"gray",size:"2",weight:"medium",children:"No conditions defined"})]})})})]}),e.jsxs(g,{style:{borderRadius:"12px",background:"var(--color-surface)",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1)",border:"1px solid var(--gray-6)"},children:[e.jsxs(i,{align:"center",gap:"3",mb:"4",children:[e.jsx(p,{style:{padding:"8px",borderRadius:"8px",background:"var(--violet-3)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Q,{size:18,color:"var(--violet-11)"})}),e.jsx(R,{size:"5",weight:"bold",children:"Recipients"})]}),x?e.jsx(e.Fragment,{children:e.jsxs(ue,{children:[e.jsx(ge,{children:e.jsxs(A,{children:[e.jsx(k,{children:"Role"}),e.jsx(k,{children:"Condition"}),e.jsx(k,{children:"Actions"})]})}),e.jsxs(je,{children:[(l.recipients||[]).map((r,u)=>e.jsxs(A,{children:[e.jsx(b,{children:e.jsx(y,{variant:"soft",color:"violet",children:r.receiver_by_role})}),e.jsx(b,{children:e.jsx(n,{size:"2",color:"gray",children:r.condition||"No condition"})}),e.jsx(b,{children:e.jsx(m,{variant:"ghost",color:"red",onClick:()=>{const z=[...l.recipients||[]];z.splice(u,1),d(h(c({},l),{recipients:z}))},style:{borderRadius:"6px"},children:"Remove"})})]},u)),e.jsxs(A,{children:[e.jsx(b,{children:e.jsxs($,{value:v.receiver_by_role,onValueChange:r=>_(h(c({},v),{receiver_by_role:r})),children:[e.jsx(D,{placeholder:"Select Role"}),e.jsx(M,{children:B==null?void 0:B.map(r=>e.jsx(S,{value:r.name,children:r.name},r.name))})]})}),e.jsx(b,{children:e.jsx(U,{placeholder:"Condition (optional)",value:v.condition,onChange:r=>_(h(c({},v),{condition:r.target.value})),style:{borderRadius:"6px"}})}),e.jsx(b,{children:e.jsx(m,{onClick:()=>{d(h(c({},l),{recipients:[...l.recipients||[],v]})),_({receiver_by_role:"",condition:""})},disabled:!v.receiver_by_role,style:{borderRadius:"6px"},children:"Add"})})]})]})]})}):e.jsx(i,{direction:"column",gap:"3",children:(s.recipients||X||[]).length>0?(s.recipients||X||[]).map((r,u)=>e.jsx(g,{style:{background:"var(--violet-2)",border:"1px solid var(--violet-5)",borderRadius:"8px"},children:e.jsxs(i,{justify:"between",align:"center",children:[e.jsxs(i,{align:"center",gap:"2",children:[e.jsx(Q,{size:14,color:"var(--violet-11)"}),e.jsx(n,{weight:"bold",style:{color:"var(--violet-11)"},children:r.receiver_by_role})]}),e.jsx(n,{size:"2",color:"gray",style:{fontStyle:"italic"},children:r.condition||"No condition"})]})},u)):e.jsx(g,{style:{background:"var(--gray-2)",border:"1px dashed var(--gray-6)",borderRadius:"8px"},children:e.jsxs(i,{direction:"column",align:"center",gap:"2",py:"4",children:[e.jsx(p,{style:{opacity:.6},children:e.jsx(Q,{size:24,color:"var(--gray-9)"})}),e.jsx(n,{color:"gray",size:"2",weight:"medium",children:"No recipients defined"})]})})})]})]})]})};export{hr as default};
