var x=(n,h,r)=>new Promise((a,o)=>{var l=s=>{try{t(r.next(s))}catch(i){o(i)}},c=s=>{try{t(r.throw(s))}catch(i){o(i)}},t=s=>s.done?a(s.value):Promise.resolve(s.value).then(l,c);t((r=r.apply(n,h)).next())});import{r as u,E as f,u as b,j as e,p as d,a as j,b as g,o as S,L as z}from"./index-X4KS0kgS.js";import{n as y,u as w}from"./callout-TMOWbPYR.js";import{p}from"./text-fCUYU7-V.js";import{u as E}from"./text-field-CI2Gm0u8.js";const k=()=>{const[n,h]=u.useState(""),[r,a]=u.useState(!1),[o,l]=u.useState(null),[c,t]=u.useState(null),{call:s}=f("frappe.core.doctype.user.user.reset_password");b();const i=()=>x(void 0,null,function*(){a(!0);try{const m=yield s({user:n});l(null),t("Password reset instructions have been sent to your email.")}catch(m){l("There was an error resetting your password."),t(null)}finally{a(!1)}});return e.jsx(d,{align:"center",justify:"center",height:"100vh",px:"4",children:e.jsx(j,{size:"4",style:{width:"100%",maxWidth:400},children:e.jsxs(d,{direction:"column",gap:"5",children:[e.jsx(g,{size:"6",align:"center",children:"Reset Your Password"}),e.jsx(g,{size:"4",align:"center",color:"gray",children:"Forgot your password? No problem!"}),o&&e.jsx(y,{color:"red",size:"2",children:e.jsx(w,{children:o})}),c&&e.jsx(y,{color:"green",size:"2",children:e.jsx(w,{children:c})}),e.jsxs(j,{children:[e.jsx(p,{as:"label",size:"2",weight:"medium",children:"Email"}),e.jsx(E,{placeholder:"user@example.com",onChange:m=>h(m.target.value),value:n,mt:"2"})]}),e.jsx(d,{gap:"3",justify:"center",mt:"2",children:e.jsx(S,{variant:"solid",color:"blue",onClick:i,disabled:r,style:{width:"100%"},children:r?"Sending...":"Reset Password"})}),e.jsxs(d,{justify:"center",gap:"2",mt:"2",children:[e.jsx(p,{size:"2",color:"gray",children:"Remember your password?"}),e.jsx(z,{to:"/login",style:{textDecoration:"none"},children:e.jsx(p,{size:"2",color:"blue",children:"Log In"})})]})]})})})};export{k as default};
