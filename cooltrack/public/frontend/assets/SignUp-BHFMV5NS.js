var jt=Object.defineProperty,Rt=Object.defineProperties;var Ut=Object.getOwnPropertyDescriptors;var Ae=Object.getOwnPropertySymbols;var tt=Object.prototype.hasOwnProperty,rt=Object.prototype.propertyIsEnumerable;var et=(e,s,t)=>s in e?jt(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,h=(e,s)=>{for(var t in s||(s={}))tt.call(s,t)&&et(e,t,s[t]);if(Ae)for(var t of Ae(s))rt.call(s,t)&&et(e,t,s[t]);return e},N=(e,s)=>Rt(e,Ut(s));var ge=(e,s)=>{var t={};for(var a in e)tt.call(e,a)&&s.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&Ae)for(var a of Ae(e))s.indexOf(a)<0&&rt.call(e,a)&&(t[a]=e[a]);return t};var z=(e,s,t)=>new Promise((a,u)=>{var n=A=>{try{f(t.next(A))}catch(j){u(j)}},d=A=>{try{f(t.throw(A))}catch(j){u(j)}},f=A=>A.done?a(A.value):Promise.resolve(A.value).then(n,d);f((t=t.apply(e,s)).next())});import{R as q,r as Se,n as Mt,j as D,p as we,l as Bt,a as st,b as it,c as ae,o as It,L as Nt,F as Pt,d as zt}from"./index-DjJ_UgHu.js";import{o as qt}from"./card-CbHK6U27.js";import{u as at}from"./text-field-DYbpgSKD.js";var xe=e=>e.type==="checkbox",le=e=>e instanceof Date,M=e=>e==null;const mt=e=>typeof e=="object";var p=e=>!M(e)&&!Array.isArray(e)&&mt(e)&&!le(e),Wt=e=>p(e)&&e.target?xe(e.target)?e.target.checked:e.target.value:e,$t=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Ht=(e,s)=>e.has($t(s)),Jt=e=>{const s=e.constructor&&e.constructor.prototype;return p(s)&&s.hasOwnProperty("isPrototypeOf")},Be=typeof window!="undefined"&&typeof window.HTMLElement!="undefined"&&typeof document!="undefined";function R(e){let s;const t=Array.isArray(e),a=typeof FileList!="undefined"?e instanceof FileList:!1;if(e instanceof Date)s=new Date(e);else if(e instanceof Set)s=new Set(e);else if(!(Be&&(e instanceof Blob||a))&&(t||p(e)))if(s=t?[]:{},!t&&!Jt(e))s=e;else for(const u in e)e.hasOwnProperty(u)&&(s[u]=R(e[u]));else return e;return s}var pe=e=>Array.isArray(e)?e.filter(Boolean):[],C=e=>e===void 0,y=(e,s,t)=>{if(!s||!p(e))return t;const a=pe(s.split(/[,[\].]+?/)).reduce((u,n)=>M(u)?u:u[n],e);return C(a)||a===e?C(e[s])?t:e[s]:a},K=e=>typeof e=="boolean",Ie=e=>/^\w*$/.test(e),xt=e=>pe(e.replace(/["|']|\]/g,"").split(/\.|\[/)),k=(e,s,t)=>{let a=-1;const u=Ie(s)?[s]:xt(s),n=u.length,d=n-1;for(;++a<n;){const f=u[a];let A=t;if(a!==d){const j=e[f];A=p(j)||Array.isArray(j)?j:isNaN(+u[a+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;e[f]=A,e=e[f]}};const lt={BLUR:"blur",FOCUS_OUT:"focusout"},W={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ee={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};q.createContext(null);var Kt=(e,s,t,a=!0)=>{const u={defaultValues:s._defaultValues};for(const n in e)Object.defineProperty(u,n,{get:()=>{const d=n;return s._proxyFormState[d]!==W.all&&(s._proxyFormState[d]=!a||W.all),e[d]}});return u},Z=e=>typeof e=="string",Zt=(e,s,t,a,u)=>Z(e)?(a&&s.watch.add(e),y(t,e,u)):Array.isArray(e)?e.map(n=>(a&&s.watch.add(n),y(t,n))):(a&&(s.watchAll=!0),t),Yt=(e,s,t,a,u)=>s?N(h({},t[e]),{types:N(h({},t[e]&&t[e].types?t[e].types:{}),{[a]:u||!0})}):{},be=e=>Array.isArray(e)?e:[e],nt=()=>{let e=[];return{get observers(){return e},next:u=>{for(const n of e)n.next&&n.next(u)},subscribe:u=>(e.push(u),{unsubscribe:()=>{e=e.filter(n=>n!==u)}}),unsubscribe:()=>{e=[]}}},Me=e=>M(e)||!mt(e);function se(e,s){if(Me(e)||Me(s))return e===s;if(le(e)&&le(s))return e.getTime()===s.getTime();const t=Object.keys(e),a=Object.keys(s);if(t.length!==a.length)return!1;for(const u of t){const n=e[u];if(!a.includes(u))return!1;if(u!=="ref"){const d=s[u];if(le(n)&&le(d)||p(n)&&p(d)||Array.isArray(n)&&Array.isArray(d)?!se(n,d):n!==d)return!1}}return!0}var U=e=>p(e)&&!Object.keys(e).length,Ne=e=>e.type==="file",$=e=>typeof e=="function",ke=e=>{if(!Be)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},_t=e=>e.type==="select-multiple",Pe=e=>e.type==="radio",Qt=e=>Pe(e)||xe(e),Ue=e=>ke(e)&&e.isConnected;function Xt(e,s){const t=s.slice(0,-1).length;let a=0;for(;a<t;)e=C(e)?a++:e[s[a++]];return e}function Gt(e){for(const s in e)if(e.hasOwnProperty(s)&&!C(e[s]))return!1;return!0}function L(e,s){const t=Array.isArray(s)?s:Ie(s)?[s]:xt(s),a=t.length===1?e:Xt(e,t),u=t.length-1,n=t[u];return a&&delete a[n],u!==0&&(p(a)&&U(a)||Array.isArray(a)&&Gt(a))&&L(e,t.slice(0,-1)),e}var Ft=e=>{for(const s in e)if($(e[s]))return!0;return!1};function Ee(e,s={}){const t=Array.isArray(e);if(p(e)||t)for(const a in e)Array.isArray(e[a])||p(e[a])&&!Ft(e[a])?(s[a]=Array.isArray(e[a])?[]:{},Ee(e[a],s[a])):M(e[a])||(s[a]=!0);return s}function Vt(e,s,t){const a=Array.isArray(e);if(p(e)||a)for(const u in e)Array.isArray(e[u])||p(e[u])&&!Ft(e[u])?C(s)||Me(t[u])?t[u]=Array.isArray(e[u])?Ee(e[u],[]):h({},Ee(e[u])):Vt(e[u],M(s)?{}:s[u],t[u]):t[u]=!se(e[u],s[u]);return t}var he=(e,s)=>Vt(e,s,Ee(s));const ut={value:!1,isValid:!1},ot={value:!0,isValid:!0};var At=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!C(e[0].attributes.value)?C(e[0].value)||e[0].value===""?ot:{value:e[0].value,isValid:!0}:ot:ut}return ut},wt=(e,{valueAsNumber:s,valueAsDate:t,setValueAs:a})=>C(e)?e:s?e===""?NaN:e&&+e:t&&Z(e)?new Date(e):a?a(e):e;const ct={isValid:!1,value:null};var St=e=>Array.isArray(e)?e.reduce((s,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:s,ct):ct;function dt(e){const s=e.ref;return Ne(s)?s.files:Pe(s)?St(e.refs).value:_t(s)?[...s.selectedOptions].map(({value:t})=>t):xe(s)?At(e.refs).value:wt(C(s.value)?e.ref.value:s.value,e)}var er=(e,s,t,a)=>{const u={};for(const n of e){const d=y(s,n);d&&k(u,n,d._f)}return{criteriaMode:t,names:[...e],fields:u,shouldUseNativeValidation:a}},Te=e=>e instanceof RegExp,ve=e=>C(e)?e:Te(e)?e.source:p(e)?Te(e.value)?e.value.source:e.value:e,ft=e=>({isOnSubmit:!e||e===W.onSubmit,isOnBlur:e===W.onBlur,isOnChange:e===W.onChange,isOnAll:e===W.all,isOnTouch:e===W.onTouched});const yt="AsyncFunction";var tr=e=>!!e&&!!e.validate&&!!($(e.validate)&&e.validate.constructor.name===yt||p(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===yt)),rr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),gt=(e,s,t)=>!t&&(s.watchAll||s.watch.has(e)||[...s.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const me=(e,s,t,a)=>{for(const n of t||Object.keys(e)){const d=y(e,n);if(d){const u=d,{_f:f}=u,A=ge(u,["_f"]);if(f){if(f.refs&&f.refs[0]&&s(f.refs[0],n)&&!a)return!0;if(f.ref&&s(f.ref,f.name)&&!a)return!0;if(me(A,s))break}else if(p(A)&&me(A,s))break}}};function ht(e,s,t){const a=y(e,t);if(a||Ie(t))return{error:a,name:t};const u=t.split(".");for(;u.length;){const n=u.join("."),d=y(s,n),f=y(e,n);if(d&&!Array.isArray(d)&&t!==n)return{name:t};if(f&&f.type)return{name:n,error:f};u.pop()}return{name:t}}var sr=(e,s,t,a)=>{t(e);const d=e,{name:u}=d,n=ge(d,["name"]);return U(n)||Object.keys(n).length>=Object.keys(s).length||Object.keys(n).find(f=>s[f]===(!a||W.all))},ir=(e,s,t)=>!e||!s||e===s||be(e).some(a=>a&&(t?a===s:a.startsWith(s)||s.startsWith(a))),ar=(e,s,t,a,u)=>u.isOnAll?!1:!t&&u.isOnTouch?!(s||e):(t?a.isOnBlur:u.isOnBlur)?!e:(t?a.isOnChange:u.isOnChange)?e:!0,lr=(e,s)=>!pe(y(e,s)).length&&L(e,s),nr=(e,s,t)=>{const a=be(y(e,t));return k(a,"root",s[t]),k(e,t,a),e},De=e=>Z(e);function vt(e,s,t="validate"){if(De(e)||Array.isArray(e)&&e.every(De)||K(e)&&!e)return{type:t,message:De(e)?e:"",ref:s}}var ce=e=>p(e)&&!Te(e)?e:{value:e,message:""},bt=(e,s,t,a,u,n)=>z(void 0,null,function*(){const{ref:d,refs:f,required:A,maxLength:j,minLength:w,min:S,max:m,pattern:_e,validate:te,name:B,valueAsNumber:Ce,mount:Y}=e._f,x=y(t,B);if(!Y||s.has(B))return{};const Q=f?f[0]:d,X=F=>{u&&Q.reportValidity&&(Q.setCustomValidity(K(F)?"":F||""),Q.reportValidity())},O={},de=Pe(d),fe=xe(d),Le=de||fe,H=(Ce||Ne(d))&&C(d.value)&&C(x)||ke(d)&&d.value===""||x===""||Array.isArray(x)&&!x.length,ie=Yt.bind(null,B,a,O),G=(F,_,T,I=ee.maxLength,P=ee.minLength)=>{const J=F?_:T;O[B]=h({type:F?I:P,message:J,ref:d},ie(F?I:P,J))};if(n?!Array.isArray(x)||!x.length:A&&(!Le&&(H||M(x))||K(x)&&!x||fe&&!At(f).isValid||de&&!St(f).isValid)){const{value:F,message:_}=De(A)?{value:!!A,message:A}:ce(A);if(F&&(O[B]=h({type:ee.required,message:_,ref:Q},ie(ee.required,_)),!a))return X(_),O}if(!H&&(!M(S)||!M(m))){let F,_;const T=ce(m),I=ce(S);if(!M(x)&&!isNaN(x)){const P=d.valueAsNumber||x&&+x;M(T.value)||(F=P>T.value),M(I.value)||(_=P<I.value)}else{const P=d.valueAsDate||new Date(x),J=Fe=>new Date(new Date().toDateString()+" "+Fe),re=d.type=="time",ye=d.type=="week";Z(T.value)&&x&&(F=re?J(x)>J(T.value):ye?x>T.value:P>new Date(T.value)),Z(I.value)&&x&&(_=re?J(x)<J(I.value):ye?x<I.value:P<new Date(I.value))}if((F||_)&&(G(!!F,T.message,I.message,ee.max,ee.min),!a))return X(O[B].message),O}if((j||w)&&!H&&(Z(x)||n&&Array.isArray(x))){const F=ce(j),_=ce(w),T=!M(F.value)&&x.length>+F.value,I=!M(_.value)&&x.length<+_.value;if((T||I)&&(G(T,F.message,_.message),!a))return X(O[B].message),O}if(_e&&!H&&Z(x)){const{value:F,message:_}=ce(_e);if(Te(F)&&!x.match(F)&&(O[B]=h({type:ee.pattern,message:_,ref:d},ie(ee.pattern,_)),!a))return X(_),O}if(te){if($(te)){const F=yield te(x,t),_=vt(F,Q);if(_&&(O[B]=h(h({},_),ie(ee.validate,_.message)),!a))return X(_.message),O}else if(p(te)){let F={};for(const _ in te){if(!U(F)&&!a)break;const T=vt(yield te[_](x,t),Q,_);T&&(F=h(h({},T),ie(_,T.message)),X(T.message),a&&(O[B]=F))}if(!U(F)&&(O[B]=h({ref:Q},F),!a))return O}}return X(!0),O});const ur={mode:W.onSubmit,reValidateMode:W.onChange,shouldFocusError:!0};function or(e={}){let s=h(h({},ur),e),t={submitCount:0,isDirty:!1,isLoading:$(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1};const a={};let u=p(s.defaultValues)||p(s.values)?R(s.values||s.defaultValues)||{}:{},n=s.shouldUnregister?{}:R(u),d={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},A,j=0;const w={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let S=h({},w);const m={array:nt(),state:nt()},_e=ft(s.mode),te=ft(s.reValidateMode),B=s.criteriaMode===W.all,Ce=r=>i=>{clearTimeout(j),j=setTimeout(r,i)},Y=r=>z(this,null,function*(){if(!s.disabled&&(w.isValid||S.isValid||r)){const i=s.resolver?U((yield H()).errors):yield G(a,!0);i!==t.isValid&&m.state.next({isValid:i})}}),x=(r,i)=>{!s.disabled&&(w.isValidating||w.validatingFields||S.isValidating||S.validatingFields)&&((r||Array.from(f.mount)).forEach(l=>{l&&(i?k(t.validatingFields,l,i):L(t.validatingFields,l))}),m.state.next({validatingFields:t.validatingFields,isValidating:!U(t.validatingFields)}))},Q=(r,i=[],l,v,c=!0,o=!0)=>{if(v&&l&&!s.disabled){if(d.action=!0,o&&Array.isArray(y(a,r))){const g=l(y(a,r),v.argA,v.argB);c&&k(a,r,g)}if(o&&Array.isArray(y(t.errors,r))){const g=l(y(t.errors,r),v.argA,v.argB);c&&k(t.errors,r,g),lr(t.errors,r)}if((w.touchedFields||S.touchedFields)&&o&&Array.isArray(y(t.touchedFields,r))){const g=l(y(t.touchedFields,r),v.argA,v.argB);c&&k(t.touchedFields,r,g)}(w.dirtyFields||S.dirtyFields)&&(t.dirtyFields=he(u,n)),m.state.next({name:r,isDirty:_(r,i),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else k(n,r,i)},X=(r,i)=>{k(t.errors,r,i),m.state.next({errors:t.errors})},O=r=>{t.errors=r,m.state.next({errors:t.errors,isValid:!1})},de=(r,i,l,v)=>{const c=y(a,r);if(c){const o=y(n,r,C(l)?y(u,r):l);C(o)||v&&v.defaultChecked||i?k(n,r,i?o:dt(c._f)):P(r,o),d.mount&&Y()}},fe=(r,i,l,v,c)=>{let o=!1,g=!1;const b={name:r};if(!s.disabled){if(!l||v){(w.isDirty||S.isDirty)&&(g=t.isDirty,t.isDirty=b.isDirty=_(),o=g!==b.isDirty);const V=se(y(u,r),i);g=!!y(t.dirtyFields,r),V?L(t.dirtyFields,r):k(t.dirtyFields,r,!0),b.dirtyFields=t.dirtyFields,o=o||(w.dirtyFields||S.dirtyFields)&&g!==!V}if(l){const V=y(t.touchedFields,r);V||(k(t.touchedFields,r,l),b.touchedFields=t.touchedFields,o=o||(w.touchedFields||S.touchedFields)&&V!==l)}o&&c&&m.state.next(b)}return o?b:{}},Le=(r,i,l,v)=>{const c=y(t.errors,r),o=(w.isValid||S.isValid)&&K(i)&&t.isValid!==i;if(s.delayError&&l?(A=Ce(()=>X(r,l)),A(s.delayError)):(clearTimeout(j),A=null,l?k(t.errors,r,l):L(t.errors,r)),(l?!se(c,l):c)||!U(v)||o){const g=N(h(h({},v),o&&K(i)?{isValid:i}:{}),{errors:t.errors,name:r});t=h(h({},t),g),m.state.next(g)}},H=r=>z(this,null,function*(){x(r,!0);const i=yield s.resolver(n,s.context,er(r||f.mount,a,s.criteriaMode,s.shouldUseNativeValidation));return x(r),i}),ie=r=>z(this,null,function*(){const{errors:i}=yield H(r);if(r)for(const l of r){const v=y(i,l);v?k(t.errors,l,v):L(t.errors,l)}else t.errors=i;return i}),G=(v,c,...o)=>z(this,[v,c,...o],function*(r,i,l={valid:!0}){for(const b in r){const V=r[b];if(V){const g=V,{_f:E}=g,Ve=ge(g,["_f"]);if(E){const ne=f.array.has(E.name),ue=V._f&&tr(V._f);ue&&w.validatingFields&&x([b],!0);const oe=yield bt(V,f.disabled,n,B,s.shouldUseNativeValidation&&!i,ne);if(ue&&w.validatingFields&&x([b]),oe[E.name]&&(l.valid=!1,i))break;!i&&(y(oe,E.name)?ne?nr(t.errors,oe,E.name):k(t.errors,E.name,oe[E.name]):L(t.errors,E.name))}!U(Ve)&&(yield G(Ve,i,l))}}return l.valid}),F=()=>{for(const r of f.unMount){const i=y(a,r);i&&(i._f.refs?i._f.refs.every(l=>!Ue(l)):!Ue(i._f.ref))&&je(r)}f.unMount=new Set},_=(r,i)=>!s.disabled&&(r&&i&&k(n,r,i),!se(ze(),u)),T=(r,i,l)=>Zt(r,f,h({},d.mount?n:C(i)?u:Z(r)?{[r]:i}:i),l,i),I=r=>pe(y(d.mount?n:u,r,s.shouldUnregister?y(u,r,[]):[])),P=(r,i,l={})=>{const v=y(a,r);let c=i;if(v){const o=v._f;o&&(!o.disabled&&k(n,r,wt(i,o)),c=ke(o.ref)&&M(i)?"":i,_t(o.ref)?[...o.ref.options].forEach(g=>g.selected=c.includes(g.value)):o.refs?xe(o.ref)?o.refs.length>1?o.refs.forEach(g=>(!g.defaultChecked||!g.disabled)&&(g.checked=Array.isArray(c)?!!c.find(b=>b===g.value):c===g.value)):o.refs[0]&&(o.refs[0].checked=!!c):o.refs.forEach(g=>g.checked=g.value===c):Ne(o.ref)?o.ref.value="":(o.ref.value=c,o.ref.type||m.state.next({name:r,values:R(n)})))}(l.shouldDirty||l.shouldTouch)&&fe(r,c,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&Oe(r)},J=(r,i,l)=>{for(const v in i){const c=i[v],o=`${r}.${v}`,g=y(a,o);(f.array.has(r)||p(c)||g&&!g._f)&&!le(c)?J(o,c,l):P(o,c,l)}},re=(r,i,l={})=>{const v=y(a,r),c=f.array.has(r),o=R(i);k(n,r,o),c?(m.array.next({name:r,values:R(n)}),(w.isDirty||w.dirtyFields||S.isDirty||S.dirtyFields)&&l.shouldDirty&&m.state.next({name:r,dirtyFields:he(u,n),isDirty:_(r,o)})):v&&!v._f&&!M(o)?J(r,o,l):P(r,o,l),gt(r,f)&&m.state.next(h({},t)),m.state.next({name:d.mount?r:void 0,values:R(n)})},ye=r=>z(this,null,function*(){d.mount=!0;const i=r.target;let l=i.name,v=!0;const c=y(a,l),o=g=>{v=Number.isNaN(g)||le(g)&&isNaN(g.getTime())||se(g,y(n,l,g))};if(c){let g,b;const V=i.type?dt(c._f):Wt(r),E=r.type===lt.BLUR||r.type===lt.FOCUS_OUT,Ve=!rr(c._f)&&!s.resolver&&!y(t.errors,l)&&!c._f.deps||ar(E,y(t.touchedFields,l),t.isSubmitted,te,_e),ne=gt(l,f,E);k(n,l,V),E?(c._f.onBlur&&c._f.onBlur(r),A&&A(0)):c._f.onChange&&c._f.onChange(r);const ue=fe(l,V,E),oe=!U(ue)||ne;if(!E&&m.state.next({name:l,type:r.type,values:R(n)}),Ve)return(w.isValid||S.isValid)&&(s.mode==="onBlur"?E&&Y():E||Y()),oe&&m.state.next(h({name:l},ne?{}:ue));if(!E&&ne&&m.state.next(h({},t)),s.resolver){const{errors:Xe}=yield H([l]);if(o(V),v){const Ot=ht(t.errors,a,l),Ge=ht(Xe,a,Ot.name||l);g=Ge.error,l=Ge.name,b=U(Xe)}}else x([l],!0),g=(yield bt(c,f.disabled,n,B,s.shouldUseNativeValidation))[l],x([l]),o(V),v&&(g?b=!1:(w.isValid||S.isValid)&&(b=yield G(a,!0)));v&&(c._f.deps&&Oe(c._f.deps),Le(l,b,g,ue))}}),Fe=(r,i)=>{if(y(t.errors,i)&&r.focus)return r.focus(),1},Oe=(l,...v)=>z(this,[l,...v],function*(r,i={}){let c,o;const g=be(r);if(s.resolver){const b=yield ie(C(r)?r:g);c=U(b),o=r?!g.some(V=>y(b,V)):c}else r?(o=(yield Promise.all(g.map(b=>z(this,null,function*(){const V=y(a,b);return yield G(V&&V._f?{[b]:V}:V)})))).every(Boolean),!(!o&&!t.isValid)&&Y()):o=c=yield G(a);return m.state.next(N(h(h({},!Z(r)||(w.isValid||S.isValid)&&c!==t.isValid?{}:{name:r}),s.resolver||!r?{isValid:c}:{}),{errors:t.errors})),i.shouldFocus&&!o&&me(a,Fe,r?g:f.mount),o}),ze=r=>{const i=h({},d.mount?n:u);return C(r)?i:Z(r)?y(i,r):r.map(l=>y(i,l))},qe=(r,i)=>({invalid:!!y((i||t).errors,r),isDirty:!!y((i||t).dirtyFields,r),error:y((i||t).errors,r),isValidating:!!y(t.validatingFields,r),isTouched:!!y((i||t).touchedFields,r)}),Dt=r=>{r&&be(r).forEach(i=>L(t.errors,i)),m.state.next({errors:r?t.errors:{}})},We=(r,i,l)=>{const v=(y(a,r,{_f:{}})._f||{}).ref,E=y(t.errors,r)||{},{ref:o,message:g,type:b}=E,V=ge(E,["ref","message","type"]);k(t.errors,r,N(h(h({},V),i),{ref:v})),m.state.next({name:r,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&v&&v.focus&&v.focus()},kt=(r,i)=>$(r)?m.state.subscribe({next:l=>r(T(void 0,i),l)}):T(r,i,!0),$e=r=>m.state.subscribe({next:i=>{ir(r.name,i.name,r.exact)&&sr(i,r.formState||w,Lt,r.reRenderRoot)&&r.callback(h(h({values:h({},n)},t),i))}}).unsubscribe,Et=r=>(d.mount=!0,S=h(h({},S),r.formState),$e(N(h({},r),{formState:S}))),je=(r,i={})=>{for(const l of r?be(r):f.mount)f.mount.delete(l),f.array.delete(l),i.keepValue||(L(a,l),L(n,l)),!i.keepError&&L(t.errors,l),!i.keepDirty&&L(t.dirtyFields,l),!i.keepTouched&&L(t.touchedFields,l),!i.keepIsValidating&&L(t.validatingFields,l),!s.shouldUnregister&&!i.keepDefaultValue&&L(u,l);m.state.next({values:R(n)}),m.state.next(h(h({},t),i.keepDirty?{isDirty:_()}:{})),!i.keepIsValid&&Y()},He=({disabled:r,name:i})=>{(K(r)&&d.mount||r||f.disabled.has(i))&&(r?f.disabled.add(i):f.disabled.delete(i))},Re=(r,i={})=>{let l=y(a,r);const v=K(i.disabled)||K(s.disabled);return k(a,r,N(h({},l||{}),{_f:h(N(h({},l&&l._f?l._f:{ref:{name:r}}),{name:r,mount:!0}),i)})),f.mount.add(r),l?He({disabled:K(i.disabled)?i.disabled:s.disabled,name:r}):de(r,!0,i.value),N(h(h({},v?{disabled:i.disabled||s.disabled}:{}),s.progressive?{required:!!i.required,min:ve(i.min),max:ve(i.max),minLength:ve(i.minLength),maxLength:ve(i.maxLength),pattern:ve(i.pattern)}:{}),{name:r,onChange:ye,onBlur:ye,ref:c=>{if(c){Re(r,i),l=y(a,r);const o=C(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,g=Qt(o),b=l._f.refs||[];if(g?b.find(V=>V===o):o===l._f.ref)return;k(a,r,{_f:h(h({},l._f),g?{refs:[...b.filter(Ue),o,...Array.isArray(y(u,r))?[{}]:[]],ref:{type:o.type,name:r}}:{ref:o})}),de(r,!1,void 0,o)}else l=y(a,r,{}),l._f&&(l._f.mount=!1),(s.shouldUnregister||i.shouldUnregister)&&!(Ht(f.array,r)&&d.action)&&f.unMount.add(r)}})},Je=()=>s.shouldFocusError&&me(a,Fe,f.mount),Tt=r=>{K(r)&&(m.state.next({disabled:r}),me(a,(i,l)=>{const v=y(a,l);v&&(i.disabled=v._f.disabled||r,Array.isArray(v._f.refs)&&v._f.refs.forEach(c=>{c.disabled=v._f.disabled||r}))},0,!1))},Ke=(r,i)=>l=>z(this,null,function*(){let v;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let c=R(n);if(m.state.next({isSubmitting:!0}),s.resolver){const{errors:o,values:g}=yield H();t.errors=o,c=g}else yield G(a);if(f.disabled.size)for(const o of f.disabled)k(c,o,void 0);if(L(t.errors,"root"),U(t.errors)){m.state.next({errors:{}});try{yield r(c,l)}catch(o){v=o}}else i&&(yield i(h({},t.errors),l)),Je(),setTimeout(Je);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:U(t.errors)&&!v,submitCount:t.submitCount+1,errors:t.errors}),v)throw v}),pt=(r,i={})=>{y(a,r)&&(C(i.defaultValue)?re(r,R(y(u,r))):(re(r,i.defaultValue),k(u,r,R(i.defaultValue))),i.keepTouched||L(t.touchedFields,r),i.keepDirty||(L(t.dirtyFields,r),t.isDirty=i.defaultValue?_(r,R(y(u,r))):_()),i.keepError||(L(t.errors,r),w.isValid&&Y()),m.state.next(h({},t)))},Ze=(r,i={})=>{const l=r?R(r):u,v=R(l),c=U(r),o=c?u:v;if(i.keepDefaultValues||(u=l),!i.keepValues){if(i.keepDirtyValues){const g=new Set([...f.mount,...Object.keys(he(u,n))]);for(const b of Array.from(g))y(t.dirtyFields,b)?k(o,b,y(n,b)):re(b,y(o,b))}else{if(Be&&C(r))for(const g of f.mount){const b=y(a,g);if(b&&b._f){const V=Array.isArray(b._f.refs)?b._f.refs[0]:b._f.ref;if(ke(V)){const E=V.closest("form");if(E){E.reset();break}}}}for(const g of f.mount)re(g,y(o,g))}n=R(o),m.array.next({values:h({},o)}),m.state.next({values:h({},o)})}f={mount:i.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!w.isValid||!!i.keepIsValid||!!i.keepDirtyValues,d.watch=!!s.shouldUnregister,m.state.next({submitCount:i.keepSubmitCount?t.submitCount:0,isDirty:c?!1:i.keepDirty?t.isDirty:!!(i.keepDefaultValues&&!se(r,u)),isSubmitted:i.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:c?{}:i.keepDirtyValues?i.keepDefaultValues&&n?he(u,n):t.dirtyFields:i.keepDefaultValues&&r?he(u,r):i.keepDirty?t.dirtyFields:{},touchedFields:i.keepTouched?t.touchedFields:{},errors:i.keepErrors?t.errors:{},isSubmitSuccessful:i.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Ye=(r,i)=>Ze($(r)?r(n):r,i),Ct=(r,i={})=>{const l=y(a,r),v=l&&l._f;if(v){const c=v.refs?v.refs[0]:v.ref;c.focus&&(c.focus(),i.shouldSelect&&$(c.select)&&c.select())}},Lt=r=>{t=h(h({},t),r)},Qe={control:{register:Re,unregister:je,getFieldState:qe,handleSubmit:Ke,setError:We,_subscribe:$e,_runSchema:H,_getWatch:T,_getDirty:_,_setValid:Y,_setFieldArray:Q,_setDisabledField:He,_setErrors:O,_getFieldArray:I,_reset:Ze,_resetDefaultValues:()=>$(s.defaultValues)&&s.defaultValues().then(r=>{Ye(r,s.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:F,_disableForm:Tt,_subjects:m,_proxyFormState:w,get _fields(){return a},get _formValues(){return n},get _state(){return d},set _state(r){d=r},get _defaultValues(){return u},get _names(){return f},set _names(r){f=r},get _formState(){return t},get _options(){return s},set _options(r){s=h(h({},s),r)}},subscribe:Et,trigger:Oe,register:Re,handleSubmit:Ke,watch:kt,setValue:re,getValues:ze,reset:Ye,resetField:pt,clearErrors:Dt,unregister:je,setError:We,setFocus:Ct,getFieldState:qe};return N(h({},Qe),{formControl:Qe})}function cr(e={}){const s=q.useRef(void 0),t=q.useRef(void 0),[a,u]=q.useState({isDirty:!1,isValidating:!1,isLoading:$(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:$(e.defaultValues)?void 0:e.defaultValues});s.current||(s.current=N(h({},e.formControl?e.formControl:or(e)),{formState:a}),e.formControl&&e.defaultValues&&!$(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const n=s.current.control;return n._options=e,q.useLayoutEffect(()=>n._subscribe({formState:n._proxyFormState,callback:()=>u(h({},n._formState)),reRenderRoot:!0}),[n]),q.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),q.useEffect(()=>{if(n._proxyFormState.isDirty){const d=n._getDirty();d!==a.isDirty&&n._subjects.state.next({isDirty:d})}},[n,a.isDirty]),q.useEffect(()=>{e.values&&!se(e.values,t.current)?(n._reset(e.values,n._options.resetOptions),t.current=e.values,u(d=>h({},d))):n._resetDefaultValues()},[e.values,n]),q.useEffect(()=>{e.errors&&!U(e.errors)&&n._setErrors(e.errors)},[e.errors,n]),q.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next(h({},n._formState))),n._removeUnmounted()}),q.useEffect(()=>{e.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[e.shouldUnregister,n]),s.current.formState=Kt(a,n),s.current}const dr=e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),fr=({message:e,type:s,onClose:t})=>(Se.useEffect(()=>{const a=setTimeout(()=>{t()},3e3);return()=>clearTimeout(a)},[t]),D.jsxs("div",{style:{position:"fixed",bottom:"20px",right:"20px",zIndex:1e3,backgroundColor:s==="success"?"var(--green-9)":"var(--red-9)",color:"white",padding:"12px 16px",borderRadius:"4px",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.2)",display:"flex",alignItems:"center",gap:"8px"},children:[s==="success"?D.jsx(Pt,{size:16}):D.jsx(zt,{size:16}),D.jsx(ae,{size:"2",children:e})]})),mr=()=>{const{register:e,handleSubmit:s,formState:{errors:t,isSubmitting:a}}=cr(),{call:u}=Se.useContext(Mt),[n,d]=Se.useState(null),[f,A]=Se.useState("success"),j=w=>z(void 0,null,function*(){d(null);try{const S=yield u.post("frappe.core.doctype.user.user.sign_up",{email:w.email,full_name:w.full_name,redirect_to:"/"}),m=Array.isArray(S==null?void 0:S.message)&&S.message[1]||"Signup successful!";d(m),A("success")}catch(S){d((S==null?void 0:S.message)||"Something went wrong."),A("error")}});return D.jsxs(D.Fragment,{children:[D.jsx(we,{align:"center",justify:"center",height:"100vh",px:"4",style:{overflow:"hidden"},children:D.jsx(qt,{size:"1",style:{width:"100%",maxWidth:400},children:D.jsxs(we,{direction:"column",gap:"5",align:"center",children:[D.jsx("img",{src:Bt,alt:"Cool Track Logo",style:{height:60,marginBottom:10}}),D.jsx(st,{size:"6",align:"center",children:"Join Cool Track"}),D.jsx(st,{size:"4",align:"center",color:"gray",children:"Create your account"}),D.jsxs(it,{width:"100%",children:[D.jsx(ae,{as:"label",size:"2",weight:"medium",children:"Full Name"}),D.jsx(at,N(h({placeholder:"John Brown"},e("full_name",{required:"Full name is required"})),{mt:"2"})),(t==null?void 0:t.full_name)&&D.jsx(ae,{color:"red",size:"1",mt:"1",children:t.full_name.message})]}),D.jsxs(it,{width:"100%",children:[D.jsx(ae,{as:"label",size:"2",weight:"medium",children:"Email"}),D.jsx(at,N(h({type:"email",placeholder:"you@cooltrack.com"},e("email",{required:"Email is required",validate:w=>dr(w)||"Please enter a valid email address."})),{mt:"2"})),(t==null?void 0:t.email)&&D.jsx(ae,{color:"red",size:"1",mt:"1",children:t.email.message})]}),D.jsx(we,{gap:"3",justify:"center",mt:"2",width:"100%",children:D.jsx(It,{variant:"solid",color:"blue",type:"submit",disabled:a,style:{width:"100%"},onClick:s(j),children:a?"Signing up...":"Sign Up"})}),D.jsxs(we,{justify:"center",gap:"2",mt:"2",children:[D.jsx(ae,{size:"2",color:"gray",children:"Already have an account?"}),D.jsx(Nt,{to:"/login",style:{textDecoration:"none"},children:D.jsx(ae,{size:"2",color:"blue",children:"Log In"})})]})]})})}),n&&D.jsx(fr,{message:n,type:f,onClose:()=>d(null)})]})};export{mr as default};
