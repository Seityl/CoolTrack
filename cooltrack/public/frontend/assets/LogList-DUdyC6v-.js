var nt=Object.defineProperty,it=Object.defineProperties;var lt=Object.getOwnPropertyDescriptors;var J=Object.getOwnPropertySymbols;var ve=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable;var ge=(e,r,s)=>r in e?nt(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s,d=(e,r)=>{for(var s in r||(r={}))ve.call(r,s)&&ge(e,s,r[s]);if(J)for(var s of J(r))xe.call(r,s)&&ge(e,s,r[s]);return e},w=(e,r)=>it(e,lt(r));var h=(e,r)=>{var s={};for(var a in e)ve.call(e,a)&&r.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&J)for(var a of J(e))r.indexOf(a)<0&&xe.call(e,a)&&(s[a]=e[a]);return s};var Q=(e,r,s)=>new Promise((a,o)=>{var i=c=>{try{g(s.next(c))}catch(x){o(x)}},m=c=>{try{g(s.throw(c))}catch(x){o(x)}},g=c=>c.done?a(c.value):Promise.resolve(c.value).then(i,m);g((s=s.apply(e,r)).next())});import{r as n,j as t,ag as te,w as Ae,ai as S,ao as ct,ah as dt,ap as ut,x as ee,P as K,aq as pt,ar as ft,as as mt,at as Ce,au as gt,y as vt,av as xt,D as he,aw as ht,G as yt,a as ne,c as ie,e as wt,ax as Tt,f as Et,p as L,s as U,b as Y,o as O,ab as At,ay as Ct,m as ye,az as Dt,aA as bt}from"./index-C04qYfe-.js";import{c as Pt}from"./index-rTswdvp2.js";import{o as we}from"./card-C5T3GK1O.js";import{c as De,R as jt,P as Rt,O as Nt,W as St,C as _t,T as It,a as Ft,b as Lt,d as be,e as Ot,f as ue,s as Mt,n as $t,p as kt,g as Vt,m as Kt,D as Te}from"./dialog-QXb7-LxA.js";import"./index-CuX96acz.js";var Pe="AlertDialog",[zt,$r]=Ae(Pe,[De]),I=De(),je=e=>{const o=e,{__scopeAlertDialog:r}=o,s=h(o,["__scopeAlertDialog"]),a=I(r);return t.jsx(jt,w(d(d({},a),s),{modal:!0}))};je.displayName=Pe;var Wt="AlertDialogTrigger",Re=n.forwardRef((e,r)=>{const i=e,{__scopeAlertDialog:s}=i,a=h(i,["__scopeAlertDialog"]),o=I(s);return t.jsx(Lt,w(d(d({},o),a),{ref:r}))});Re.displayName=Wt;var Ht="AlertDialogPortal",Ne=e=>{const o=e,{__scopeAlertDialog:r}=o,s=h(o,["__scopeAlertDialog"]),a=I(r);return t.jsx(Rt,d(d({},a),s))};Ne.displayName=Ht;var Bt="AlertDialogOverlay",Se=n.forwardRef((e,r)=>{const i=e,{__scopeAlertDialog:s}=i,a=h(i,["__scopeAlertDialog"]),o=I(s);return t.jsx(Nt,w(d(d({},o),a),{ref:r}))});Se.displayName=Bt;var V="AlertDialogContent",[Ut,Yt]=zt(V),Xt=ct("AlertDialogContent"),_e=n.forwardRef((e,r)=>{const x=e,{__scopeAlertDialog:s,children:a}=x,o=h(x,["__scopeAlertDialog","children"]),i=I(s),m=n.useRef(null),g=te(r,m),c=n.useRef(null);return t.jsx(St,{contentName:V,titleName:Ie,docsSlug:"alert-dialog",children:t.jsx(Ut,{scope:s,cancelRef:c,children:t.jsxs(_t,w(d(d({role:"alertdialog"},i),o),{ref:g,onOpenAutoFocus:S(o.onOpenAutoFocus,l=>{var T;l.preventDefault(),(T=c.current)==null||T.focus({preventScroll:!0})}),onPointerDownOutside:l=>l.preventDefault(),onInteractOutside:l=>l.preventDefault(),children:[t.jsx(Xt,{children:a}),t.jsx(Gt,{contentRef:m})]}))})})});_e.displayName=V;var Ie="AlertDialogTitle",Fe=n.forwardRef((e,r)=>{const i=e,{__scopeAlertDialog:s}=i,a=h(i,["__scopeAlertDialog"]),o=I(s);return t.jsx(It,w(d(d({},o),a),{ref:r}))});Fe.displayName=Ie;var Le="AlertDialogDescription",Oe=n.forwardRef((e,r)=>{const i=e,{__scopeAlertDialog:s}=i,a=h(i,["__scopeAlertDialog"]),o=I(s);return t.jsx(Ft,w(d(d({},o),a),{ref:r}))});Oe.displayName=Le;var qt="AlertDialogAction",Me=n.forwardRef((e,r)=>{const i=e,{__scopeAlertDialog:s}=i,a=h(i,["__scopeAlertDialog"]),o=I(s);return t.jsx(be,w(d(d({},o),a),{ref:r}))});Me.displayName=qt;var $e="AlertDialogCancel",ke=n.forwardRef((e,r)=>{const g=e,{__scopeAlertDialog:s}=g,a=h(g,["__scopeAlertDialog"]),{cancelRef:o}=Yt($e,s),i=I(s),m=te(r,o);return t.jsx(be,w(d(d({},i),a),{ref:m}))});ke.displayName=$e;var Gt=({contentRef:e})=>{const r=`\`${V}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${V}\` by passing a \`${Le}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${V}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return n.useEffect(()=>{var a;document.getElementById((a=e.current)==null?void 0:a.getAttribute("aria-describedby"))||console.warn(r)},[r,e]),null},Jt=je,Qt=Re,Zt=Ne,er=Se,tr=_e,rr=Me,sr=ke,ar=Fe,or=Oe,pe="ToastProvider",[fe,nr,ir]=Pt("Toast"),[Ve,kr]=Ae("Toast",[ir]),[lr,re]=Ve(pe),Ke=e=>{const{__scopeToast:r,label:s="Notification",duration:a=5e3,swipeDirection:o="right",swipeThreshold:i=50,children:m}=e,[g,c]=n.useState(null),[x,l]=n.useState(0),T=n.useRef(!1),D=n.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${pe}\`. Expected non-empty \`string\`.`),t.jsx(fe.Provider,{scope:r,children:t.jsx(lr,{scope:r,label:s,duration:a,swipeDirection:o,swipeThreshold:i,toastCount:x,viewport:g,onViewportChange:c,onToastAdd:n.useCallback(()=>l(j=>j+1),[]),onToastRemove:n.useCallback(()=>l(j=>j-1),[]),isFocusedToastEscapeKeyDownRef:T,isClosePausedRef:D,children:m})})};Ke.displayName=pe;var ze="ToastViewport",cr=["F8"],le="toast.viewportPause",ce="toast.viewportResume",We=n.forwardRef((e,r)=>{const N=e,{__scopeToast:s,hotkey:a=cr,label:o="Notifications ({hotkey})"}=N,i=h(N,["__scopeToast","hotkey","label"]),m=re(ze,s),g=nr(s),c=n.useRef(null),x=n.useRef(null),l=n.useRef(null),T=n.useRef(null),D=te(r,T,m.onViewportChange),j=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=m.toastCount>0;n.useEffect(()=>{const p=b=>{var E;a.length!==0&&a.every(A=>b[A]||b.code===A)&&((E=T.current)==null||E.focus())};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[a]),n.useEffect(()=>{const p=c.current,b=T.current;if(_&&p&&b){const v=()=>{if(!m.isClosePausedRef.current){const f=new CustomEvent(le);b.dispatchEvent(f),m.isClosePausedRef.current=!0}},E=()=>{if(m.isClosePausedRef.current){const f=new CustomEvent(ce);b.dispatchEvent(f),m.isClosePausedRef.current=!1}},A=f=>{!p.contains(f.relatedTarget)&&E()},P=()=>{p.contains(document.activeElement)||E()};return p.addEventListener("focusin",v),p.addEventListener("focusout",A),p.addEventListener("pointermove",v),p.addEventListener("pointerleave",P),window.addEventListener("blur",v),window.addEventListener("focus",E),()=>{p.removeEventListener("focusin",v),p.removeEventListener("focusout",A),p.removeEventListener("pointermove",v),p.removeEventListener("pointerleave",P),window.removeEventListener("blur",v),window.removeEventListener("focus",E)}}},[_,m.isClosePausedRef]);const y=n.useCallback(({tabbingDirection:p})=>{const v=g().map(E=>{const A=E.ref.current,P=[A,...Er(A)];return p==="forwards"?P:P.reverse()});return(p==="forwards"?v.reverse():v).flat()},[g]);return n.useEffect(()=>{const p=T.current;if(p){const b=v=>{var P,f,C;const E=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!E){const M=document.activeElement,$=v.shiftKey;if(v.target===p&&$){(P=x.current)==null||P.focus();return}const W=y({tabbingDirection:$?"backwards":"forwards"}),X=W.findIndex(u=>u===M);oe(W.slice(X+1))?v.preventDefault():$?(f=x.current)==null||f.focus():(C=l.current)==null||C.focus()}};return p.addEventListener("keydown",b),()=>p.removeEventListener("keydown",b)}},[g,y]),t.jsxs(pt,{ref:c,role:"region","aria-label":o.replace("{hotkey}",j),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&t.jsx(de,{ref:x,onFocusFromOutsideViewport:()=>{const p=y({tabbingDirection:"forwards"});oe(p)}}),t.jsx(fe.Slot,{scope:s,children:t.jsx(K.ol,w(d({tabIndex:-1},i),{ref:D}))}),_&&t.jsx(de,{ref:l,onFocusFromOutsideViewport:()=>{const p=y({tabbingDirection:"backwards"});oe(p)}})]})});We.displayName=ze;var He="ToastFocusProxy",de=n.forwardRef((e,r)=>{const m=e,{__scopeToast:s,onFocusFromOutsideViewport:a}=m,o=h(m,["__scopeToast","onFocusFromOutsideViewport"]),i=re(He,s);return t.jsx(Ce,w(d({"aria-hidden":!0,tabIndex:0},o),{ref:r,style:{position:"fixed"},onFocus:g=>{var l;const c=g.relatedTarget;!((l=i.viewport)!=null&&l.contains(c))&&a()}}))});de.displayName=He;var se="Toast",dr="toast.swipeStart",ur="toast.swipeMove",pr="toast.swipeCancel",fr="toast.swipeEnd",Be=n.forwardRef((e,r)=>{const x=e,{forceMount:s,open:a,defaultOpen:o,onOpenChange:i}=x,m=h(x,["forceMount","open","defaultOpen","onOpenChange"]),[g=!0,c]=dt({prop:a,defaultProp:o,onChange:i});return t.jsx(ut,{present:s||g,children:t.jsx(vr,w(d({open:g},m),{ref:r,onClose:()=>c(!1),onPause:ee(e.onPause),onResume:ee(e.onResume),onSwipeStart:S(e.onSwipeStart,l=>{l.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:S(e.onSwipeMove,l=>{const{x:T,y:D}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","move"),l.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${T}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${D}px`)}),onSwipeCancel:S(e.onSwipeCancel,l=>{l.currentTarget.setAttribute("data-swipe","cancel"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:S(e.onSwipeEnd,l=>{const{x:T,y:D}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","end"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${T}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${D}px`),c(!1)})}))})});Be.displayName=se;var[mr,gr]=Ve(se,{onClose(){}}),vr=n.forwardRef((e,r)=>{const X=e,{__scopeToast:s,type:a="foreground",duration:o,open:i,onClose:m,onEscapeKeyDown:g,onPause:c,onResume:x,onSwipeStart:l,onSwipeMove:T,onSwipeCancel:D,onSwipeEnd:j}=X,_=h(X,["__scopeToast","type","duration","open","onClose","onEscapeKeyDown","onPause","onResume","onSwipeStart","onSwipeMove","onSwipeCancel","onSwipeEnd"]),y=re(se,s),[N,p]=n.useState(null),b=te(r,u=>p(u)),v=n.useRef(null),E=n.useRef(null),A=o||y.duration,P=n.useRef(0),f=n.useRef(A),C=n.useRef(0),{onToastAdd:M,onToastRemove:$}=y,k=ee(()=>{var R;(N==null?void 0:N.contains(document.activeElement))&&((R=y.viewport)==null||R.focus()),m()}),z=n.useCallback(u=>{!u||u===1/0||(window.clearTimeout(C.current),P.current=new Date().getTime(),C.current=window.setTimeout(k,u))},[k]);n.useEffect(()=>{const u=y.viewport;if(u){const R=()=>{z(f.current),x==null||x()},F=()=>{const H=new Date().getTime()-P.current;f.current=f.current-H,window.clearTimeout(C.current),c==null||c()};return u.addEventListener(le,F),u.addEventListener(ce,R),()=>{u.removeEventListener(le,F),u.removeEventListener(ce,R)}}},[y.viewport,A,c,x,z]),n.useEffect(()=>{i&&!y.isClosePausedRef.current&&z(A)},[i,A,y.isClosePausedRef,z]),n.useEffect(()=>(M(),()=>$()),[M,$]);const W=n.useMemo(()=>N?Ze(N):null,[N]);return y.viewport?t.jsxs(t.Fragment,{children:[W&&t.jsx(xr,{__scopeToast:s,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),t.jsx(mr,{scope:s,onClose:k,children:ft.createPortal(t.jsx(fe.ItemSlot,{scope:s,children:t.jsx(mt,{asChild:!0,onEscapeKeyDown:S(g,()=>{y.isFocusedToastEscapeKeyDownRef.current||k(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:t.jsx(K.li,w(d({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection},_),{ref:b,style:d({userSelect:"none",touchAction:"none"},e.style),onKeyDown:S(e.onKeyDown,u=>{u.key==="Escape"&&(g==null||g(u.nativeEvent),u.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:S(e.onPointerDown,u=>{u.button===0&&(v.current={x:u.clientX,y:u.clientY})}),onPointerMove:S(e.onPointerMove,u=>{if(!v.current)return;const R=u.clientX-v.current.x,F=u.clientY-v.current.y,H=!!E.current,B=["left","right"].includes(y.swipeDirection),q=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,at=B?q(0,R):0,ot=B?0:q(0,F),ae=u.pointerType==="touch"?10:2,G={x:at,y:ot},me={originalEvent:u,delta:G};H?(E.current=G,Z(ur,T,me,{discrete:!1})):Ee(G,y.swipeDirection,ae)?(E.current=G,Z(dr,l,me,{discrete:!1}),u.target.setPointerCapture(u.pointerId)):(Math.abs(R)>ae||Math.abs(F)>ae)&&(v.current=null)}),onPointerUp:S(e.onPointerUp,u=>{const R=E.current,F=u.target;if(F.hasPointerCapture(u.pointerId)&&F.releasePointerCapture(u.pointerId),E.current=null,v.current=null,R){const H=u.currentTarget,B={originalEvent:u,delta:R};Ee(R,y.swipeDirection,y.swipeThreshold)?Z(fr,j,B,{discrete:!0}):Z(pr,D,B,{discrete:!0}),H.addEventListener("click",q=>q.preventDefault(),{once:!0})}})}))})}),y.viewport)})]}):null}),xr=e=>{const x=e,{__scopeToast:r,children:s}=x,a=h(x,["__scopeToast","children"]),o=re(se,r),[i,m]=n.useState(!1),[g,c]=n.useState(!1);return wr(()=>m(!0)),n.useEffect(()=>{const l=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(l)},[]),g?null:t.jsx(gt,{asChild:!0,children:t.jsx(Ce,w(d({},a),{children:i&&t.jsxs(t.Fragment,{children:[o.label," ",s]})}))})},hr="ToastTitle",Ue=n.forwardRef((e,r)=>{const o=e,{__scopeToast:s}=o,a=h(o,["__scopeToast"]);return t.jsx(K.div,w(d({},a),{ref:r}))});Ue.displayName=hr;var yr="ToastDescription",Ye=n.forwardRef((e,r)=>{const o=e,{__scopeToast:s}=o,a=h(o,["__scopeToast"]);return t.jsx(K.div,w(d({},a),{ref:r}))});Ye.displayName=yr;var Xe="ToastAction",qe=n.forwardRef((e,r)=>{const o=e,{altText:s}=o,a=h(o,["altText"]);return s.trim()?t.jsx(Qe,{altText:s,asChild:!0,children:t.jsx(Je,w(d({},a),{ref:r}))}):(console.error(`Invalid prop \`altText\` supplied to \`${Xe}\`. Expected non-empty \`string\`.`),null)});qe.displayName=Xe;var Ge="ToastClose",Je=n.forwardRef((e,r)=>{const i=e,{__scopeToast:s}=i,a=h(i,["__scopeToast"]),o=gr(Ge,s);return t.jsx(Qe,{asChild:!0,children:t.jsx(K.button,w(d({type:"button"},a),{ref:r,onClick:S(e.onClick,o.onClose)}))})});Je.displayName=Ge;var Qe=n.forwardRef((e,r)=>{const i=e,{__scopeToast:s,altText:a}=i,o=h(i,["__scopeToast","altText"]);return t.jsx(K.div,w(d({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0},o),{ref:r}))});function Ze(e){const r=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&r.push(a.textContent),Tr(a)){const o=a.ariaHidden||a.hidden||a.style.display==="none",i=a.dataset.radixToastAnnounceExclude==="";if(!o)if(i){const m=a.dataset.radixToastAnnounceAlt;m&&r.push(m)}else r.push(...Ze(a))}}),r}function Z(e,r,s,{discrete:a}){const o=s.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});r&&o.addEventListener(e,r,{once:!0}),a?xt(o,i):o.dispatchEvent(i)}var Ee=(e,r,s=0)=>{const a=Math.abs(e.x),o=Math.abs(e.y),i=a>o;return r==="left"||r==="right"?i&&a>s:!i&&o>s};function wr(e=()=>{}){const r=ee(e);vt(()=>{let s=0,a=0;return s=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(a)}},[r])}function Tr(e){return e.nodeType===e.ELEMENT_NODE}function Er(e){const r=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const o=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||o?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)r.push(s.currentNode);return r}function oe(e){const r=document.activeElement;return e.some(s=>s===r?!0:(s.focus(),document.activeElement!==r))}var Ar=Ke,Cr=We,Dr=Be,br=Ue,Pr=Ye,jr=qe;const et=e=>n.createElement(Jt,d({},e));et.displayName="AlertDialog.Root";const Rr=n.forwardRef((a,s)=>{var o=a,{children:e}=o,r=h(o,["children"]);return n.createElement(Qt,w(d({},r),{ref:s,asChild:!0}),ue(e))});Rr.displayName="AlertDialog.Trigger";const tt=n.forwardRef((a,s)=>{var o=a,{align:e}=o,r=h(o,["align"]);const D=Ot,{align:i}=D,m=h(D,["align"]),{className:g}=he({align:e},{align:i}),j=he(r,m),{className:c,forceMount:x,container:l}=j,T=h(j,["className","forceMount","container"]);return n.createElement(Zt,{container:l,forceMount:x},n.createElement(ht,{asChild:!0},n.createElement(er,{className:"rt-BaseDialogOverlay rt-AlertDialogOverlay"},n.createElement("div",{className:"rt-BaseDialogScroll rt-AlertDialogScroll"},n.createElement("div",{className:`rt-BaseDialogScrollPadding rt-AlertDialogScrollPadding ${g}`},n.createElement(tr,w(d({},T),{ref:s,className:yt("rt-BaseDialogContent","rt-AlertDialogContent",c)})))))))});tt.displayName="AlertDialog.Content";const rt=n.forwardRef((e,r)=>n.createElement(ar,{asChild:!0},n.createElement(ne,w(d({size:"5",mb:"3",trim:"start"},e),{asChild:!1,ref:r}))));rt.displayName="AlertDialog.Title";const st=n.forwardRef((e,r)=>n.createElement(or,{asChild:!0},n.createElement(ie,w(d({as:"p",size:"3"},e),{asChild:!1,ref:r}))));st.displayName="AlertDialog.Description";const Nr=n.forwardRef((a,s)=>{var o=a,{children:e}=o,r=h(o,["children"]);return n.createElement(rr,w(d({},r),{ref:s,asChild:!0}),ue(e))});Nr.displayName="AlertDialog.Action";const Sr=n.forwardRef((a,s)=>{var o=a,{children:e}=o,r=h(o,["children"]);return n.createElement(sr,w(d({},r),{ref:s,asChild:!0}),ue(e))});Sr.displayName="AlertDialog.Cancel";const Vr=()=>{const{data:e,isValidating:r,mutate:s}=wt("Approval Log",{fields:["name","data","creation"],orderBy:{field:"creation",order:"desc"}}),{deleteDoc:a}=Tt(),[o,i]=n.useState(null),[m,g]=n.useState(!1),[c,x]=n.useState(!1),{currentUser:l}=Et(),[T,D]=n.useState(!1),[j,_]=n.useState(!1),[y,N]=n.useState(""),[p,b]=n.useState("success"),v=(f,C)=>{N(f),b(C),_(!0)},E=f=>Q(void 0,null,function*(){i(f);try{yield a("Approval Log",f),s(),v("Log deleted successfully","success")}catch(C){console.error("Error deleting log:",C),v("Failed to delete log","error")}finally{i(null)}}),A=()=>Q(void 0,null,function*(){if(e){x(!0),g(!1);try{const f=e.map(C=>a("Approval Log",C.name).catch(M=>(console.error(`Error deleting log ${C.name}:`,M),null)));yield Promise.all(f),s(),v("All logs cleared successfully","success")}catch(f){console.error("Error clearing all logs:",f),v("Failed to clear all logs","error")}finally{x(!1)}}}),P=()=>Q(void 0,null,function*(){D(!0);try{yield s(),v("Logs refreshed successfully","success")}catch(f){console.error("Error refreshing logs:",f),v("Failed to refresh logs","error")}finally{D(!1)}});return r&&!T&&!c?t.jsx(L,{justify:"center",align:"center",className:"h-[60vh]",children:t.jsx(U,{size:"3"})}):t.jsx(Y,{className:"bg-gray-50 px-4 py-6",children:t.jsxs(Ar,{children:[t.jsx(Y,{className:"px-4 w-full bg-white/90 backdrop-blur-sm",style:{position:"sticky",top:0,zIndex:100},children:t.jsxs(L,{gap:"3",justify:"between",align:"center",py:"3",children:[t.jsx(L,{gap:"3",align:"center",children:t.jsx(ne,{size:"6",children:"Logs"})}),t.jsxs(L,{gap:"3",children:[t.jsxs(O,{variant:"soft",onClick:P,disabled:T,children:[t.jsx(At,{className:T?"animate-spin":""}),"Refresh"]}),l==="Administrator"&&e&&e.length>0&&t.jsx(O,{variant:"soft",color:"red",onClick:()=>g(!0),disabled:c,children:c?t.jsx(U,{}):t.jsxs(t.Fragment,{children:[t.jsx(Ct,{})," Clear All"]})})]})]})}),t.jsx(Y,{className:"px-4 py-6",children:t.jsx(L,{direction:"column",gap:"3",className:"w-full",children:e&&e.length>0?e.map((f,C)=>t.jsx(ye.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:C*.05},children:t.jsx(we,{className:"shadow-sm w-full bg-white",children:t.jsxs(Y,{p:"5",children:[t.jsxs(L,{justify:"between",align:"start",gap:"3",children:[t.jsx("div",{className:"text-sm text-gray-700 flex-1",dangerouslySetInnerHTML:{__html:f.data}}),l==="Administrator"&&t.jsxs(Mt,{children:[t.jsx($t,{children:t.jsx(O,{variant:"ghost",color:"red",size:"1",disabled:o===f.name||c,children:o===f.name?t.jsx(U,{size:"1"}):t.jsx(Dt,{})})}),t.jsxs(kt,{style:{maxWidth:450},children:[t.jsx(Vt,{children:"Delete Log"}),t.jsx(Kt,{size:"2",mb:"4",children:"Are you sure you want to delete this log entry?"}),t.jsxs(L,{gap:"3",mt:"4",justify:"end",children:[t.jsx(Te,{children:t.jsx(O,{variant:"soft",color:"gray",children:"Cancel"})}),t.jsx(Te,{children:t.jsx(O,{variant:"solid",color:"red",onClick:()=>E(f.name),disabled:o===f.name,children:o===f.name?t.jsx(U,{}):"Delete"})})]})]})]})]}),t.jsx(ie,{size:"1",color:"gray",mt:"2",className:"italic",children:new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).format(new Date(f.creation))})]})})},f.name)):t.jsx(ye.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:t.jsx(we,{className:"shadow-sm w-full bg-white",children:t.jsxs(Y,{p:"6",className:"text-center",children:[t.jsx(bt,{size:"24",className:"mx-auto text-gray-300 mb-3"}),t.jsx(ne,{size:"4",color:"gray",mb:"2",children:"No logs available"}),t.jsx(ie,{size:"2",color:"gray",children:"All approval logs will appear here."})]})})})})}),t.jsx(et,{open:m,children:t.jsxs(tt,{style:{maxWidth:450},children:[t.jsx(rt,{children:"Clear All Logs"}),t.jsx(st,{size:"2",children:"Are you sure you want to delete all log entries? This action cannot be undone."}),t.jsxs(L,{gap:"3",mt:"4",justify:"end",children:[t.jsx(O,{variant:"soft",color:"gray",onClick:()=>g(!1),disabled:c,children:"Cancel"}),t.jsx(O,{variant:"solid",color:"red",onClick:A,disabled:c,children:c?t.jsx(U,{}):"Clear All"})]})]})}),t.jsxs(Dr,{className:`${p==="success"?"bg-green-100 border-green-400":"bg-red-100 border-red-400"} border rounded-md shadow-sm p-3 data-[state=open]:animate-slideIn data-[state=closed]:animate-hide data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:animate-swipeOut`,open:j,onOpenChange:_,children:[t.jsx(br,{className:`${p==="success"?"text-green-800":"text-red-800"} font-medium`,children:p==="success"?"Success":"Error"}),t.jsx(Pr,{className:`${p==="success"?"text-green-700":"text-red-700"} text-sm`,children:y}),t.jsx(jr,{asChild:!0,altText:"Close",children:t.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700",children:"×"})})]}),t.jsx(Cr,{className:"fixed bottom-4 right-4 z-[1000] outline-none"})]})})};export{Vr as default};
