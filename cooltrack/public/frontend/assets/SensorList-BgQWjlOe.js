import{u as v,R as y,M as f,j as e,b as z,p as s,c as n,o as w,K as F,N as R,O as b,a as _,Q as h,S as L,T as N}from"./index-DjJ_UgHu.js";import{m as P,b as S,P as c,f as C}from"./tabs-B10FIYy0.js";import{o as j}from"./card-CbHK6U27.js";import{e as T}from"./link-D7qgNc3E.js";import"./index-D25gSzPj.js";import"./index-qWNBboJE.js";import"./index-BBS9qKzp.js";const A={Active:e.jsx(N,{size:16,color:"green"}),Inactive:e.jsx(h,{size:16,color:"gray"}),Maintenance:e.jsx(L,{size:16,color:"orange"}),Decommissioned:e.jsx(h,{size:16,color:"red"})},G=()=>{const p=v(),[t,x]=y.useState("Pending"),{data:i,isLoading:l,error:o,mutate:g}=f("Sensor",{fields:["name","sensor_id","sensor_type","status","approval_status","gateway_id"]}),m=()=>{g()},r=i==null?void 0:i.filter(a=>a.approval_status===t),u=()=>(r==null?void 0:r.length)===0?e.jsx(j,{children:e.jsx(s,{direction:"column",align:"center",gap:"3",py:"4",children:e.jsxs(n,{color:"gray",children:["No sensors found for ",t,"."]})})}):e.jsx(s,{wrap:"wrap",gap:"3",mt:"4",children:r==null?void 0:r.map(a=>{var d;return e.jsx(j,{style:{width:"260px",transition:"all 0.2s ease-in-out"},className:"hover:shadow-lg hover:scale-[1.01] cursor-pointer",children:e.jsx(T,{onClick:()=>p(`/sensors/${a.name}`),children:e.jsxs(s,{direction:"column",gap:"3",children:[e.jsxs(s,{align:"center",gap:"2",children:[e.jsx(b,{size:20}),e.jsxs(_,{size:"3",children:["ID: ",a.sensor_id]})]}),e.jsxs(s,{direction:"column",gap:"2",children:[e.jsxs(s,{align:"center",gap:"2",children:[e.jsx(n,{size:"2",color:"gray",children:"Status:"}),e.jsx(n,{size:"2",children:a.status}),A[a.status]]}),e.jsxs(s,{align:"center",gap:"2",children:[e.jsx(n,{size:"2",color:"gray",children:"Gateway:"}),e.jsx(n,{size:"2",children:(d=a.gateway_id)!=null?d:"N/A"})]})]})]})})},a.name)})});return e.jsxs(z,{p:"4",children:[e.jsxs(s,{justify:"between",align:"center",mb:"4",children:[e.jsx(n,{size:"5",weight:"bold",children:"Sensors"}),i&&i.length>0&&e.jsxs(s,{gap:"3",align:"center",children:[e.jsxs(n,{size:"2",children:["Local Time: ",new Date().toLocaleTimeString()]}),e.jsxs(w,{variant:"soft",onClick:m,children:[e.jsx(F,{})," Refresh"]})]})]}),l&&e.jsxs(s,{justify:"center",align:"center",py:"6",children:[e.jsx(R,{className:"animate-spin"})," Loading sensorsâ€¦"]}),o&&e.jsxs(n,{color:"red",children:["Failed to load sensors: ",o.message]}),!l&&!o&&e.jsxs(P,{value:t,onValueChange:x,children:[e.jsxs(S,{children:[e.jsx(c,{value:"Pending",children:"Pending"}),e.jsx(c,{value:"Approved",children:"Approved"}),e.jsx(c,{value:"Rejected",children:"Rejected"})]}),e.jsx(C,{value:t,children:u()})]})]})};export{G as default};
