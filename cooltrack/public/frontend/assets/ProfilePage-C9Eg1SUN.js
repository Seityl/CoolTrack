var H=Object.defineProperty,B=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var L=(a,e,r)=>e in a?H(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r,m=(a,e)=>{for(var r in e||(e={}))E.call(e,r)&&L(a,r,e[r]);if(x)for(var r of x(e))b.call(e,r)&&L(a,r,e[r]);return a},f=(a,e)=>B(a,D(e));var v=(a,e)=>{var r={};for(var s in a)E.call(a,s)&&e.indexOf(s)<0&&(r[s]=a[s]);if(a!=null&&x)for(var s of x(a))e.indexOf(s)<0&&b.call(a,s)&&(r[s]=a[s]);return r};import{r as l,j as t,t as G,P as w,v as U,w as A,x as V,y as q,z as K,A as W,B as J,C as $,D as Q,f as X,G as Y,p as g,s as Z,b as h,H as aa,a as I,c as j,o as ea,I as ta}from"./index-DjJ_UgHu.js";import{d as sa}from"./get-subtree-rHMu7h23.js";import{o as y}from"./card-CbHK6U27.js";import{o as ra}from"./grid-kXYX5S3-.js";import{u as N}from"./text-field-DYbpgSKD.js";var S="Avatar",[na,Aa]=G(S),[la,R]=na(S),F=l.forwardRef((a,e)=>{const d=a,{__scopeAvatar:r}=d,s=v(d,["__scopeAvatar"]),[o,n]=l.useState("idle");return t.jsx(la,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:n,children:t.jsx(w.span,f(m({},s),{ref:e}))})});F.displayName=S;var _="AvatarImage",k=l.forwardRef((a,e)=>{const u=a,{__scopeAvatar:r,src:s,onLoadingStatusChange:o=()=>{}}=u,n=v(u,["__scopeAvatar","src","onLoadingStatusChange"]),d=R(_,r),i=oa(s,n),c=U(p=>{o(p),d.onImageLoadingStatusChange(p)});return A(()=>{i!=="idle"&&c(i)},[i,c]),i==="loaded"?t.jsx(w.img,f(m({},n),{ref:e,src:s})):null});k.displayName=_;var z="AvatarFallback",P=l.forwardRef((a,e)=>{const c=a,{__scopeAvatar:r,delayMs:s}=c,o=v(c,["__scopeAvatar","delayMs"]),n=R(z,r),[d,i]=l.useState(s===void 0);return l.useEffect(()=>{if(s!==void 0){const u=window.setTimeout(()=>i(!0),s);return()=>window.clearTimeout(u)}},[s]),d&&n.imageLoadingStatus!=="loaded"?t.jsx(w.span,f(m({},o),{ref:e})):null});P.displayName=z;function C(a,e){return a?e?(a.src!==e&&(a.src=e),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}function oa(a,{referrerPolicy:e,crossOrigin:r}){const s=ca(),o=l.useRef(null),n=s?(o.current||(o.current=new window.Image),o.current):null,[d,i]=l.useState(()=>C(n,a));return A(()=>{i(C(n,a))},[n,a]),A(()=>{const c=O=>()=>{i(O)};if(!n)return;const u=c("loaded"),p=c("error");return n.addEventListener("load",u),n.addEventListener("error",p),e&&(n.referrerPolicy=e),typeof r=="string"&&(n.crossOrigin=r),()=>{n.removeEventListener("load",u),n.removeEventListener("error",p)}},[n,r,e]),d}function ia(){return()=>{}}function ca(){return l.useSyncExternalStore(ia,()=>!0,()=>!1)}var da=F,ua=k,ma=P;const fa=["1","2","3","4","5","6","7","8","9"],ga=["solid","soft"],va=f(m(m(m(f(m({},W),{size:{type:"enum",className:"rt-r-size",values:fa,default:"3",responsive:!0},variant:{type:"enum",className:"rt-variant",values:ga,default:"soft"}}),K),q),V),{fallback:{type:"ReactNode",required:!0}}),M=l.forwardRef((a,e)=>{const u=J(a,va,Q),{asChild:r,children:s,className:o,style:n,color:d,radius:i}=u,c=v(u,["asChild","children","className","style","color","radius"]);return l.createElement(da,{"data-accent-color":d,"data-radius":i,className:$("rt-reset","rt-AvatarRoot",o),style:n,asChild:r},sa({asChild:r,children:s},l.createElement(T,m({ref:e},c))))});M.displayName="Avatar";const T=l.forwardRef((s,r)=>{var o=s,{fallback:a}=o,e=v(o,["fallback"]);const[n,d]=l.useState("idle");return l.createElement(l.Fragment,null,n==="idle"||n==="loading"?l.createElement("span",{className:"rt-AvatarFallback"}):null,n==="error"?l.createElement(ma,{className:$("rt-AvatarFallback",{"rt-one-letter":typeof a=="string"&&a.length===1,"rt-two-letters":typeof a=="string"&&a.length===2}),delayMs:0},a):null,l.createElement(ua,f(m({ref:r,className:"rt-AvatarImage"},e),{onLoadingStatusChange:i=>{var c;(c=e.onLoadingStatusChange)==null||c.call(e,i),d(i)}})))});T.displayName="AvatarImpl";const wa=()=>{const{currentUser:a,logout:e}=X(),r=typeof a=="string"||a!=null?a:"",{data:s,isValidating:o}=Y("User",r);if(!s||o)return t.jsx(g,{justify:"center",align:"center",className:"h-[60vh]",children:t.jsx(Z,{size:"3"})});const n=`${s.first_name||""} ${s.last_name||""}`.trim()||"User";return t.jsx(h,{className:"bg-gray-50 flex flex-col",children:t.jsx(h,{className:"flex-1 w-full px-4 py-6",children:t.jsxs(g,{direction:"column",gap:"6",className:"w-full",children:[t.jsx(y,{className:"shadow-sm w-full",children:t.jsxs(g,{gap:"4",align:"center",p:"6",children:[t.jsx(M,{size:"5",radius:"full",fallback:t.jsx(aa,{}),className:"bg-indigo-100 text-indigo-600"}),t.jsxs(g,{direction:"column",children:[t.jsx(I,{size:"6",weight:"bold",children:n}),t.jsx(j,{size:"2",color:"gray",children:s.email})]})]})}),t.jsx(y,{className:"shadow-sm w-full",children:t.jsxs(h,{p:"6",children:[t.jsx(I,{size:"5",mb:"5",children:"Profile Information"}),t.jsxs(ra,{columns:{initial:"1",sm:"2"},gap:"5",children:[t.jsxs(g,{direction:"column",gap:"1",children:[t.jsx(j,{as:"label",size:"2",weight:"medium",color:"gray",children:"Email"}),t.jsx(N,{variant:"soft",className:"rt-TextFieldInput",value:s.email,readOnly:!0})]}),t.jsxs(g,{direction:"column",gap:"1",children:[t.jsx(j,{as:"label",size:"2",weight:"medium",color:"gray",children:"First Name"}),t.jsx(N,{variant:"soft",className:"rt-TextFieldInput",value:s.first_name,readOnly:!0})]}),t.jsxs(g,{direction:"column",gap:"1",children:[t.jsx(j,{as:"label",size:"2",weight:"medium",color:"gray",children:"Last Name"}),t.jsx(N,{variant:"soft",className:"rt-TextFieldInput",value:s.last_name,readOnly:!0})]})]})]})}),t.jsx(y,{className:"shadow-sm w-full border-red-100",children:t.jsx(h,{p:"6",children:t.jsxs(ea,{variant:"outline",color:"red",onClick:e,className:"w-full",children:[t.jsx(ta,{})," Log Out"]})})})]})})})};export{wa as default};
