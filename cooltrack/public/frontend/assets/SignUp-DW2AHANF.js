var jt=Object.defineProperty,Mt=Object.defineProperties;var Nt=Object.getOwnPropertyDescriptors;var Ae=Object.getOwnPropertySymbols;var tt=Object.prototype.hasOwnProperty,rt=Object.prototype.propertyIsEnumerable;var et=(e,s,t)=>s in e?jt(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,g=(e,s)=>{for(var t in s||(s={}))tt.call(s,t)&&et(e,t,s[t]);if(Ae)for(var t of Ae(s))rt.call(s,t)&&et(e,t,s[t]);return e},P=(e,s)=>Mt(e,Nt(s));var he=(e,s)=>{var t={};for(var l in e)tt.call(e,l)&&s.indexOf(l)<0&&(t[l]=e[l]);if(e!=null&&Ae)for(var l of Ae(e))s.indexOf(l)<0&&rt.call(e,l)&&(t[l]=e[l]);return t};var q=(e,s,t)=>new Promise((l,u)=>{var n=w=>{try{d(t.next(w))}catch(U){u(U)}},f=w=>{try{d(t.throw(w))}catch(U){u(U)}},d=w=>w.done?l(w.value):Promise.resolve(w.value).then(n,f);d((t=t.apply(e,s)).next())});import{Q as z,r as Re,T as Bt,j as k,p as we,b as st,a as it,o as Pt,L as It}from"./index-X4KS0kgS.js";import{o as qt}from"./card-CA4iMPDQ.js";import{n as lt,u as at}from"./callout-TMOWbPYR.js";import{p as oe}from"./text-fCUYU7-V.js";import{u as nt}from"./text-field-CI2Gm0u8.js";var _e=e=>e.type==="checkbox",le=e=>e instanceof Date,M=e=>e==null;const xt=e=>typeof e=="object";var L=e=>!M(e)&&!Array.isArray(e)&&xt(e)&&!le(e),zt=e=>L(e)&&e.target?_e(e.target)?e.target.checked:e.target.value:e,Wt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,$t=(e,s)=>e.has(Wt(s)),Ht=e=>{const s=e.constructor&&e.constructor.prototype;return L(s)&&s.hasOwnProperty("isPrototypeOf")},Ne=typeof window!="undefined"&&typeof window.HTMLElement!="undefined"&&typeof document!="undefined";function R(e){let s;const t=Array.isArray(e),l=typeof FileList!="undefined"?e instanceof FileList:!1;if(e instanceof Date)s=new Date(e);else if(e instanceof Set)s=new Set(e);else if(!(Ne&&(e instanceof Blob||l))&&(t||L(e)))if(s=t?[]:{},!t&&!Ht(e))s=e;else for(const u in e)e.hasOwnProperty(u)&&(s[u]=R(e[u]));else return e;return s}var Ce=e=>Array.isArray(e)?e.filter(Boolean):[],T=e=>e===void 0,y=(e,s,t)=>{if(!s||!L(e))return t;const l=Ce(s.split(/[,[\].]+?/)).reduce((u,n)=>M(u)?u:u[n],e);return T(l)||l===e?T(e[s])?t:e[s]:l},Z=e=>typeof e=="boolean",Be=e=>/^\w*$/.test(e),Ft=e=>Ce(e.replace(/["|']|\]/g,"").split(/\.|\[/)),S=(e,s,t)=>{let l=-1;const u=Be(s)?[s]:Ft(s),n=u.length,f=n-1;for(;++l<n;){const d=u[l];let w=t;if(l!==f){const U=e[d];w=L(U)||Array.isArray(U)?U:isNaN(+u[l+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=w,e=e[d]}};const ut={BLUR:"blur",FOCUS_OUT:"focusout"},W={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ee={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};z.createContext(null);var Kt=(e,s,t,l=!0)=>{const u={defaultValues:s._defaultValues};for(const n in e)Object.defineProperty(u,n,{get:()=>{const f=n;return s._proxyFormState[f]!==W.all&&(s._proxyFormState[f]=!l||W.all),e[f]}});return u},J=e=>typeof e=="string",Zt=(e,s,t,l,u)=>J(e)?(l&&s.watch.add(e),y(t,e,u)):Array.isArray(e)?e.map(n=>(l&&s.watch.add(n),y(t,n))):(l&&(s.watchAll=!0),t),Jt=(e,s,t,l,u)=>s?P(g({},t[e]),{types:P(g({},t[e]&&t[e].types?t[e].types:{}),{[l]:u||!0})}):{},be=e=>Array.isArray(e)?e:[e],ot=()=>{let e=[];return{get observers(){return e},next:u=>{for(const n of e)n.next&&n.next(u)},subscribe:u=>(e.push(u),{unsubscribe:()=>{e=e.filter(n=>n!==u)}}),unsubscribe:()=>{e=[]}}},Me=e=>M(e)||!xt(e);function se(e,s){if(Me(e)||Me(s))return e===s;if(le(e)&&le(s))return e.getTime()===s.getTime();const t=Object.keys(e),l=Object.keys(s);if(t.length!==l.length)return!1;for(const u of t){const n=e[u];if(!l.includes(u))return!1;if(u!=="ref"){const f=s[u];if(le(n)&&le(f)||L(n)&&L(f)||Array.isArray(n)&&Array.isArray(f)?!se(n,f):n!==f)return!1}}return!0}var j=e=>L(e)&&!Object.keys(e).length,Pe=e=>e.type==="file",$=e=>typeof e=="function",Se=e=>{if(!Ne)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},Vt=e=>e.type==="select-multiple",Ie=e=>e.type==="radio",Qt=e=>Ie(e)||_e(e),je=e=>Se(e)&&e.isConnected;function Yt(e,s){const t=s.slice(0,-1).length;let l=0;for(;l<t;)e=T(e)?l++:e[s[l++]];return e}function Xt(e){for(const s in e)if(e.hasOwnProperty(s)&&!T(e[s]))return!1;return!0}function O(e,s){const t=Array.isArray(s)?s:Be(s)?[s]:Ft(s),l=t.length===1?e:Yt(e,t),u=t.length-1,n=t[u];return l&&delete l[n],u!==0&&(L(l)&&j(l)||Array.isArray(l)&&Xt(l))&&O(e,t.slice(0,-1)),e}var At=e=>{for(const s in e)if($(e[s]))return!0;return!1};function Ee(e,s={}){const t=Array.isArray(e);if(L(e)||t)for(const l in e)Array.isArray(e[l])||L(e[l])&&!At(e[l])?(s[l]=Array.isArray(e[l])?[]:{},Ee(e[l],s[l])):M(e[l])||(s[l]=!0);return s}function wt(e,s,t){const l=Array.isArray(e);if(L(e)||l)for(const u in e)Array.isArray(e[u])||L(e[u])&&!At(e[u])?T(s)||Me(t[u])?t[u]=Array.isArray(e[u])?Ee(e[u],[]):g({},Ee(e[u])):wt(e[u],M(s)?{}:s[u],t[u]):t[u]=!se(e[u],s[u]);return t}var ge=(e,s)=>wt(e,s,Ee(s));const ct={value:!1,isValid:!1},dt={value:!0,isValid:!0};var Dt=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!T(e[0].attributes.value)?T(e[0].value)||e[0].value===""?dt:{value:e[0].value,isValid:!0}:dt:ct}return ct},St=(e,{valueAsNumber:s,valueAsDate:t,setValueAs:l})=>T(e)?e:s?e===""?NaN:e&&+e:t&&J(e)?new Date(e):l?l(e):e;const ft={isValid:!1,value:null};var Et=e=>Array.isArray(e)?e.reduce((s,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:s,ft):ft;function yt(e){const s=e.ref;return Pe(s)?s.files:Ie(s)?Et(e.refs).value:Vt(s)?[...s.selectedOptions].map(({value:t})=>t):_e(s)?Dt(e.refs).value:St(T(s.value)?e.ref.value:s.value,e)}var Gt=(e,s,t,l)=>{const u={};for(const n of e){const f=y(s,n);f&&S(u,n,f._f)}return{criteriaMode:t,names:[...e],fields:u,shouldUseNativeValidation:l}},ke=e=>e instanceof RegExp,ve=e=>T(e)?e:ke(e)?e.source:L(e)?ke(e.value)?e.value.source:e.value:e,ht=e=>({isOnSubmit:!e||e===W.onSubmit,isOnBlur:e===W.onBlur,isOnChange:e===W.onChange,isOnAll:e===W.all,isOnTouch:e===W.onTouched});const gt="AsyncFunction";var er=e=>!!e&&!!e.validate&&!!($(e.validate)&&e.validate.constructor.name===gt||L(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===gt)),tr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),vt=(e,s,t)=>!t&&(s.watchAll||s.watch.has(e)||[...s.watch].some(l=>e.startsWith(l)&&/^\.\w+/.test(e.slice(l.length))));const me=(e,s,t,l)=>{for(const n of t||Object.keys(e)){const f=y(e,n);if(f){const u=f,{_f:d}=u,w=he(u,["_f"]);if(d){if(d.refs&&d.refs[0]&&s(d.refs[0],n)&&!l)return!0;if(d.ref&&s(d.ref,d.name)&&!l)return!0;if(me(w,s))break}else if(L(w)&&me(w,s))break}}};function bt(e,s,t){const l=y(e,t);if(l||Be(t))return{error:l,name:t};const u=t.split(".");for(;u.length;){const n=u.join("."),f=y(s,n),d=y(e,n);if(f&&!Array.isArray(f)&&t!==n)return{name:t};if(d&&d.type)return{name:n,error:d};u.pop()}return{name:t}}var rr=(e,s,t,l)=>{t(e);const f=e,{name:u}=f,n=he(f,["name"]);return j(n)||Object.keys(n).length>=Object.keys(s).length||Object.keys(n).find(d=>s[d]===(!l||W.all))},sr=(e,s,t)=>!e||!s||e===s||be(e).some(l=>l&&(t?l===s:l.startsWith(s)||s.startsWith(l))),ir=(e,s,t,l,u)=>u.isOnAll?!1:!t&&u.isOnTouch?!(s||e):(t?l.isOnBlur:u.isOnBlur)?!e:(t?l.isOnChange:u.isOnChange)?e:!0,lr=(e,s)=>!Ce(y(e,s)).length&&O(e,s),ar=(e,s,t)=>{const l=be(y(e,t));return S(l,"root",s[t]),S(e,t,l),e},De=e=>J(e);function mt(e,s,t="validate"){if(De(e)||Array.isArray(e)&&e.every(De)||Z(e)&&!e)return{type:t,message:De(e)?e:"",ref:s}}var ce=e=>L(e)&&!ke(e)?e:{value:e,message:""},_t=(e,s,t,l,u,n)=>q(void 0,null,function*(){const{ref:f,refs:d,required:w,maxLength:U,minLength:D,min:x,max:_,pattern:xe,validate:te,name:N,valueAsNumber:Le,mount:Q}=e._f,m=y(t,N);if(!Q||s.has(N))return{};const Y=d?d[0]:f,X=V=>{u&&Y.reportValidity&&(Y.setCustomValidity(Z(V)?"":V||""),Y.reportValidity())},p={},de=Ie(f),fe=_e(f),Te=de||fe,H=(Le||Pe(f))&&T(f.value)&&T(m)||Se(f)&&f.value===""||m===""||Array.isArray(m)&&!m.length,ie=Jt.bind(null,N,l,p),G=(V,F,C,B=ee.maxLength,I=ee.minLength)=>{const K=V?F:C;p[N]=g({type:V?B:I,message:K,ref:f},ie(V?B:I,K))};if(n?!Array.isArray(m)||!m.length:w&&(!Te&&(H||M(m))||Z(m)&&!m||fe&&!Dt(d).isValid||de&&!Et(d).isValid)){const{value:V,message:F}=De(w)?{value:!!w,message:w}:ce(w);if(V&&(p[N]=g({type:ee.required,message:F,ref:Y},ie(ee.required,F)),!l))return X(F),p}if(!H&&(!M(x)||!M(_))){let V,F;const C=ce(_),B=ce(x);if(!M(m)&&!isNaN(m)){const I=f.valueAsNumber||m&&+m;M(C.value)||(V=I>C.value),M(B.value)||(F=I<B.value)}else{const I=f.valueAsDate||new Date(m),K=Fe=>new Date(new Date().toDateString()+" "+Fe),re=f.type=="time",ye=f.type=="week";J(C.value)&&m&&(V=re?K(m)>K(C.value):ye?m>C.value:I>new Date(C.value)),J(B.value)&&m&&(F=re?K(m)<K(B.value):ye?m<B.value:I<new Date(B.value))}if((V||F)&&(G(!!V,C.message,B.message,ee.max,ee.min),!l))return X(p[N].message),p}if((U||D)&&!H&&(J(m)||n&&Array.isArray(m))){const V=ce(U),F=ce(D),C=!M(V.value)&&m.length>+V.value,B=!M(F.value)&&m.length<+F.value;if((C||B)&&(G(C,V.message,F.message),!l))return X(p[N].message),p}if(xe&&!H&&J(m)){const{value:V,message:F}=ce(xe);if(ke(V)&&!m.match(V)&&(p[N]=g({type:ee.pattern,message:F,ref:f},ie(ee.pattern,F)),!l))return X(F),p}if(te){if($(te)){const V=yield te(m,t),F=mt(V,Y);if(F&&(p[N]=g(g({},F),ie(ee.validate,F.message)),!l))return X(F.message),p}else if(L(te)){let V={};for(const F in te){if(!j(V)&&!l)break;const C=mt(yield te[F](m,t),Y,F);C&&(V=g(g({},C),ie(F,C.message)),X(C.message),l&&(p[N]=V))}if(!j(V)&&(p[N]=g({ref:Y},V),!l))return p}}return X(!0),p});const nr={mode:W.onSubmit,reValidateMode:W.onChange,shouldFocusError:!0};function ur(e={}){let s=g(g({},nr),e),t={submitCount:0,isDirty:!1,isLoading:$(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1};const l={};let u=L(s.defaultValues)||L(s.values)?R(s.values||s.defaultValues)||{}:{},n=s.shouldUnregister?{}:R(u),f={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},w,U=0;const D={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x=g({},D);const _={array:ot(),state:ot()},xe=ht(s.mode),te=ht(s.reValidateMode),N=s.criteriaMode===W.all,Le=r=>i=>{clearTimeout(U),U=setTimeout(r,i)},Q=r=>q(this,null,function*(){if(!s.disabled&&(D.isValid||x.isValid||r)){const i=s.resolver?j((yield H()).errors):yield G(l,!0);i!==t.isValid&&_.state.next({isValid:i})}}),m=(r,i)=>{!s.disabled&&(D.isValidating||D.validatingFields||x.isValidating||x.validatingFields)&&((r||Array.from(d.mount)).forEach(a=>{a&&(i?S(t.validatingFields,a,i):O(t.validatingFields,a))}),_.state.next({validatingFields:t.validatingFields,isValidating:!j(t.validatingFields)}))},Y=(r,i=[],a,v,c=!0,o=!0)=>{if(v&&a&&!s.disabled){if(f.action=!0,o&&Array.isArray(y(l,r))){const h=a(y(l,r),v.argA,v.argB);c&&S(l,r,h)}if(o&&Array.isArray(y(t.errors,r))){const h=a(y(t.errors,r),v.argA,v.argB);c&&S(t.errors,r,h),lr(t.errors,r)}if((D.touchedFields||x.touchedFields)&&o&&Array.isArray(y(t.touchedFields,r))){const h=a(y(t.touchedFields,r),v.argA,v.argB);c&&S(t.touchedFields,r,h)}(D.dirtyFields||x.dirtyFields)&&(t.dirtyFields=ge(u,n)),_.state.next({name:r,isDirty:F(r,i),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else S(n,r,i)},X=(r,i)=>{S(t.errors,r,i),_.state.next({errors:t.errors})},p=r=>{t.errors=r,_.state.next({errors:t.errors,isValid:!1})},de=(r,i,a,v)=>{const c=y(l,r);if(c){const o=y(n,r,T(a)?y(u,r):a);T(o)||v&&v.defaultChecked||i?S(n,r,i?o:yt(c._f)):I(r,o),f.mount&&Q()}},fe=(r,i,a,v,c)=>{let o=!1,h=!1;const b={name:r};if(!s.disabled){if(!a||v){(D.isDirty||x.isDirty)&&(h=t.isDirty,t.isDirty=b.isDirty=F(),o=h!==b.isDirty);const A=se(y(u,r),i);h=!!y(t.dirtyFields,r),A?O(t.dirtyFields,r):S(t.dirtyFields,r,!0),b.dirtyFields=t.dirtyFields,o=o||(D.dirtyFields||x.dirtyFields)&&h!==!A}if(a){const A=y(t.touchedFields,r);A||(S(t.touchedFields,r,a),b.touchedFields=t.touchedFields,o=o||(D.touchedFields||x.touchedFields)&&A!==a)}o&&c&&_.state.next(b)}return o?b:{}},Te=(r,i,a,v)=>{const c=y(t.errors,r),o=(D.isValid||x.isValid)&&Z(i)&&t.isValid!==i;if(s.delayError&&a?(w=Le(()=>X(r,a)),w(s.delayError)):(clearTimeout(U),w=null,a?S(t.errors,r,a):O(t.errors,r)),(a?!se(c,a):c)||!j(v)||o){const h=P(g(g({},v),o&&Z(i)?{isValid:i}:{}),{errors:t.errors,name:r});t=g(g({},t),h),_.state.next(h)}},H=r=>q(this,null,function*(){m(r,!0);const i=yield s.resolver(n,s.context,Gt(r||d.mount,l,s.criteriaMode,s.shouldUseNativeValidation));return m(r),i}),ie=r=>q(this,null,function*(){const{errors:i}=yield H(r);if(r)for(const a of r){const v=y(i,a);v?S(t.errors,a,v):O(t.errors,a)}else t.errors=i;return i}),G=(v,c,...o)=>q(this,[v,c,...o],function*(r,i,a={valid:!0}){for(const b in r){const A=r[b];if(A){const h=A,{_f:E}=h,Ve=he(h,["_f"]);if(E){const ae=d.array.has(E.name),ne=A._f&&er(A._f);ne&&D.validatingFields&&m([b],!0);const ue=yield _t(A,d.disabled,n,N,s.shouldUseNativeValidation&&!i,ae);if(ne&&D.validatingFields&&m([b]),ue[E.name]&&(a.valid=!1,i))break;!i&&(y(ue,E.name)?ae?ar(t.errors,ue,E.name):S(t.errors,E.name,ue[E.name]):O(t.errors,E.name))}!j(Ve)&&(yield G(Ve,i,a))}}return a.valid}),V=()=>{for(const r of d.unMount){const i=y(l,r);i&&(i._f.refs?i._f.refs.every(a=>!je(a)):!je(i._f.ref))&&pe(r)}d.unMount=new Set},F=(r,i)=>!s.disabled&&(r&&i&&S(n,r,i),!se(qe(),u)),C=(r,i,a)=>Zt(r,d,g({},f.mount?n:T(i)?u:J(r)?{[r]:i}:i),a,i),B=r=>Ce(y(f.mount?n:u,r,s.shouldUnregister?y(u,r,[]):[])),I=(r,i,a={})=>{const v=y(l,r);let c=i;if(v){const o=v._f;o&&(!o.disabled&&S(n,r,St(i,o)),c=Se(o.ref)&&M(i)?"":i,Vt(o.ref)?[...o.ref.options].forEach(h=>h.selected=c.includes(h.value)):o.refs?_e(o.ref)?o.refs.length>1?o.refs.forEach(h=>(!h.defaultChecked||!h.disabled)&&(h.checked=Array.isArray(c)?!!c.find(b=>b===h.value):c===h.value)):o.refs[0]&&(o.refs[0].checked=!!c):o.refs.forEach(h=>h.checked=h.value===c):Pe(o.ref)?o.ref.value="":(o.ref.value=c,o.ref.type||_.state.next({name:r,values:R(n)})))}(a.shouldDirty||a.shouldTouch)&&fe(r,c,a.shouldTouch,a.shouldDirty,!0),a.shouldValidate&&Oe(r)},K=(r,i,a)=>{for(const v in i){const c=i[v],o=`${r}.${v}`,h=y(l,o);(d.array.has(r)||L(c)||h&&!h._f)&&!le(c)?K(o,c,a):I(o,c,a)}},re=(r,i,a={})=>{const v=y(l,r),c=d.array.has(r),o=R(i);S(n,r,o),c?(_.array.next({name:r,values:R(n)}),(D.isDirty||D.dirtyFields||x.isDirty||x.dirtyFields)&&a.shouldDirty&&_.state.next({name:r,dirtyFields:ge(u,n),isDirty:F(r,o)})):v&&!v._f&&!M(o)?K(r,o,a):I(r,o,a),vt(r,d)&&_.state.next(g({},t)),_.state.next({name:f.mount?r:void 0,values:R(n)})},ye=r=>q(this,null,function*(){f.mount=!0;const i=r.target;let a=i.name,v=!0;const c=y(l,a),o=h=>{v=Number.isNaN(h)||le(h)&&isNaN(h.getTime())||se(h,y(n,a,h))};if(c){let h,b;const A=i.type?yt(c._f):zt(r),E=r.type===ut.BLUR||r.type===ut.FOCUS_OUT,Ve=!tr(c._f)&&!s.resolver&&!y(t.errors,a)&&!c._f.deps||ir(E,y(t.touchedFields,a),t.isSubmitted,te,xe),ae=vt(a,d,E);S(n,a,A),E?(c._f.onBlur&&c._f.onBlur(r),w&&w(0)):c._f.onChange&&c._f.onChange(r);const ne=fe(a,A,E),ue=!j(ne)||ae;if(!E&&_.state.next({name:a,type:r.type,values:R(n)}),Ve)return(D.isValid||x.isValid)&&(s.mode==="onBlur"?E&&Q():E||Q()),ue&&_.state.next(g({name:a},ae?{}:ne));if(!E&&ae&&_.state.next(g({},t)),s.resolver){const{errors:Xe}=yield H([a]);if(o(A),v){const Rt=bt(t.errors,l,a),Ge=bt(Xe,l,Rt.name||a);h=Ge.error,a=Ge.name,b=j(Xe)}}else m([a],!0),h=(yield _t(c,d.disabled,n,N,s.shouldUseNativeValidation))[a],m([a]),o(A),v&&(h?b=!1:(D.isValid||x.isValid)&&(b=yield G(l,!0)));v&&(c._f.deps&&Oe(c._f.deps),Te(a,b,h,ne))}}),Fe=(r,i)=>{if(y(t.errors,i)&&r.focus)return r.focus(),1},Oe=(a,...v)=>q(this,[a,...v],function*(r,i={}){let c,o;const h=be(r);if(s.resolver){const b=yield ie(T(r)?r:h);c=j(b),o=r?!h.some(A=>y(b,A)):c}else r?(o=(yield Promise.all(h.map(b=>q(this,null,function*(){const A=y(l,b);return yield G(A&&A._f?{[b]:A}:A)})))).every(Boolean),!(!o&&!t.isValid)&&Q()):o=c=yield G(l);return _.state.next(P(g(g({},!J(r)||(D.isValid||x.isValid)&&c!==t.isValid?{}:{name:r}),s.resolver||!r?{isValid:c}:{}),{errors:t.errors})),i.shouldFocus&&!o&&me(l,Fe,r?h:d.mount),o}),qe=r=>{const i=g({},f.mount?n:u);return T(r)?i:J(r)?y(i,r):r.map(a=>y(i,a))},ze=(r,i)=>({invalid:!!y((i||t).errors,r),isDirty:!!y((i||t).dirtyFields,r),error:y((i||t).errors,r),isValidating:!!y(t.validatingFields,r),isTouched:!!y((i||t).touchedFields,r)}),kt=r=>{r&&be(r).forEach(i=>O(t.errors,i)),_.state.next({errors:r?t.errors:{}})},We=(r,i,a)=>{const v=(y(l,r,{_f:{}})._f||{}).ref,E=y(t.errors,r)||{},{ref:o,message:h,type:b}=E,A=he(E,["ref","message","type"]);S(t.errors,r,P(g(g({},A),i),{ref:v})),_.state.next({name:r,errors:t.errors,isValid:!1}),a&&a.shouldFocus&&v&&v.focus&&v.focus()},Ct=(r,i)=>$(r)?_.state.subscribe({next:a=>r(C(void 0,i),a)}):C(r,i,!0),$e=r=>_.state.subscribe({next:i=>{sr(r.name,i.name,r.exact)&&rr(i,r.formState||D,Ut,r.reRenderRoot)&&r.callback(g(g({values:g({},n)},t),i))}}).unsubscribe,Lt=r=>(f.mount=!0,x=g(g({},x),r.formState),$e(P(g({},r),{formState:x}))),pe=(r,i={})=>{for(const a of r?be(r):d.mount)d.mount.delete(a),d.array.delete(a),i.keepValue||(O(l,a),O(n,a)),!i.keepError&&O(t.errors,a),!i.keepDirty&&O(t.dirtyFields,a),!i.keepTouched&&O(t.touchedFields,a),!i.keepIsValidating&&O(t.validatingFields,a),!s.shouldUnregister&&!i.keepDefaultValue&&O(u,a);_.state.next({values:R(n)}),_.state.next(g(g({},t),i.keepDirty?{isDirty:F()}:{})),!i.keepIsValid&&Q()},He=({disabled:r,name:i})=>{(Z(r)&&f.mount||r||d.disabled.has(i))&&(r?d.disabled.add(i):d.disabled.delete(i))},Ue=(r,i={})=>{let a=y(l,r);const v=Z(i.disabled)||Z(s.disabled);return S(l,r,P(g({},a||{}),{_f:g(P(g({},a&&a._f?a._f:{ref:{name:r}}),{name:r,mount:!0}),i)})),d.mount.add(r),a?He({disabled:Z(i.disabled)?i.disabled:s.disabled,name:r}):de(r,!0,i.value),P(g(g({},v?{disabled:i.disabled||s.disabled}:{}),s.progressive?{required:!!i.required,min:ve(i.min),max:ve(i.max),minLength:ve(i.minLength),maxLength:ve(i.maxLength),pattern:ve(i.pattern)}:{}),{name:r,onChange:ye,onBlur:ye,ref:c=>{if(c){Ue(r,i),a=y(l,r);const o=T(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,h=Qt(o),b=a._f.refs||[];if(h?b.find(A=>A===o):o===a._f.ref)return;S(l,r,{_f:g(g({},a._f),h?{refs:[...b.filter(je),o,...Array.isArray(y(u,r))?[{}]:[]],ref:{type:o.type,name:r}}:{ref:o})}),de(r,!1,void 0,o)}else a=y(l,r,{}),a._f&&(a._f.mount=!1),(s.shouldUnregister||i.shouldUnregister)&&!($t(d.array,r)&&f.action)&&d.unMount.add(r)}})},Ke=()=>s.shouldFocusError&&me(l,Fe,d.mount),Tt=r=>{Z(r)&&(_.state.next({disabled:r}),me(l,(i,a)=>{const v=y(l,a);v&&(i.disabled=v._f.disabled||r,Array.isArray(v._f.refs)&&v._f.refs.forEach(c=>{c.disabled=v._f.disabled||r}))},0,!1))},Ze=(r,i)=>a=>q(this,null,function*(){let v;a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let c=R(n);if(_.state.next({isSubmitting:!0}),s.resolver){const{errors:o,values:h}=yield H();t.errors=o,c=h}else yield G(l);if(d.disabled.size)for(const o of d.disabled)S(c,o,void 0);if(O(t.errors,"root"),j(t.errors)){_.state.next({errors:{}});try{yield r(c,a)}catch(o){v=o}}else i&&(yield i(g({},t.errors),a)),Ke(),setTimeout(Ke);if(_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:j(t.errors)&&!v,submitCount:t.submitCount+1,errors:t.errors}),v)throw v}),Ot=(r,i={})=>{y(l,r)&&(T(i.defaultValue)?re(r,R(y(u,r))):(re(r,i.defaultValue),S(u,r,R(i.defaultValue))),i.keepTouched||O(t.touchedFields,r),i.keepDirty||(O(t.dirtyFields,r),t.isDirty=i.defaultValue?F(r,R(y(u,r))):F()),i.keepError||(O(t.errors,r),D.isValid&&Q()),_.state.next(g({},t)))},Je=(r,i={})=>{const a=r?R(r):u,v=R(a),c=j(r),o=c?u:v;if(i.keepDefaultValues||(u=a),!i.keepValues){if(i.keepDirtyValues){const h=new Set([...d.mount,...Object.keys(ge(u,n))]);for(const b of Array.from(h))y(t.dirtyFields,b)?S(o,b,y(n,b)):re(b,y(o,b))}else{if(Ne&&T(r))for(const h of d.mount){const b=y(l,h);if(b&&b._f){const A=Array.isArray(b._f.refs)?b._f.refs[0]:b._f.ref;if(Se(A)){const E=A.closest("form");if(E){E.reset();break}}}}for(const h of d.mount)re(h,y(o,h))}n=R(o),_.array.next({values:g({},o)}),_.state.next({values:g({},o)})}d={mount:i.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!D.isValid||!!i.keepIsValid||!!i.keepDirtyValues,f.watch=!!s.shouldUnregister,_.state.next({submitCount:i.keepSubmitCount?t.submitCount:0,isDirty:c?!1:i.keepDirty?t.isDirty:!!(i.keepDefaultValues&&!se(r,u)),isSubmitted:i.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:c?{}:i.keepDirtyValues?i.keepDefaultValues&&n?ge(u,n):t.dirtyFields:i.keepDefaultValues&&r?ge(u,r):i.keepDirty?t.dirtyFields:{},touchedFields:i.keepTouched?t.touchedFields:{},errors:i.keepErrors?t.errors:{},isSubmitSuccessful:i.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Qe=(r,i)=>Je($(r)?r(n):r,i),pt=(r,i={})=>{const a=y(l,r),v=a&&a._f;if(v){const c=v.refs?v.refs[0]:v.ref;c.focus&&(c.focus(),i.shouldSelect&&$(c.select)&&c.select())}},Ut=r=>{t=g(g({},t),r)},Ye={control:{register:Ue,unregister:pe,getFieldState:ze,handleSubmit:Ze,setError:We,_subscribe:$e,_runSchema:H,_getWatch:C,_getDirty:F,_setValid:Q,_setFieldArray:Y,_setDisabledField:He,_setErrors:p,_getFieldArray:B,_reset:Je,_resetDefaultValues:()=>$(s.defaultValues)&&s.defaultValues().then(r=>{Qe(r,s.resetOptions),_.state.next({isLoading:!1})}),_removeUnmounted:V,_disableForm:Tt,_subjects:_,_proxyFormState:D,get _fields(){return l},get _formValues(){return n},get _state(){return f},set _state(r){f=r},get _defaultValues(){return u},get _names(){return d},set _names(r){d=r},get _formState(){return t},get _options(){return s},set _options(r){s=g(g({},s),r)}},subscribe:Lt,trigger:Oe,register:Ue,handleSubmit:Ze,watch:Ct,setValue:re,getValues:qe,reset:Qe,resetField:Ot,clearErrors:kt,unregister:pe,setError:We,setFocus:pt,getFieldState:ze};return P(g({},Ye),{formControl:Ye})}function or(e={}){const s=z.useRef(void 0),t=z.useRef(void 0),[l,u]=z.useState({isDirty:!1,isValidating:!1,isLoading:$(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:$(e.defaultValues)?void 0:e.defaultValues});s.current||(s.current=P(g({},e.formControl?e.formControl:ur(e)),{formState:l}),e.formControl&&e.defaultValues&&!$(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const n=s.current.control;return n._options=e,z.useLayoutEffect(()=>n._subscribe({formState:n._proxyFormState,callback:()=>u(g({},n._formState)),reRenderRoot:!0}),[n]),z.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),z.useEffect(()=>{if(n._proxyFormState.isDirty){const f=n._getDirty();f!==l.isDirty&&n._subjects.state.next({isDirty:f})}},[n,l.isDirty]),z.useEffect(()=>{e.values&&!se(e.values,t.current)?(n._reset(e.values,n._options.resetOptions),t.current=e.values,u(f=>g({},f))):n._resetDefaultValues()},[e.values,n]),z.useEffect(()=>{e.errors&&!j(e.errors)&&n._setErrors(e.errors)},[e.errors,n]),z.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next(g({},n._formState))),n._removeUnmounted()}),z.useEffect(()=>{e.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[e.shouldUnregister,n]),s.current.formState=Kt(l,n),s.current}const cr=e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),mr=()=>{const{register:e,handleSubmit:s,formState:{errors:t,isSubmitting:l}}=or(),{call:u}=Re.useContext(Bt),[n,f]=Re.useState(null),[d,w]=Re.useState(null),U=D=>q(void 0,null,function*(){f(null),w(null);try{const x=yield u.post("frappe.core.doctype.user.user.sign_up",{email:D.email,full_name:D.full_name,redirect_to:"/"});w(x!=null&&x.message[0]?x==null?void 0:x.message[1]:(x==null?void 0:x.message[1])+". Please try logging in.")}catch(x){f((x==null?void 0:x.message)||"Something went wrong.")}});return k.jsx(we,{align:"center",justify:"center",height:"100vh",px:"4",children:k.jsx(qt,{size:"4",style:{width:"100%",maxWidth:400},children:k.jsxs(we,{direction:"column",gap:"5",children:[k.jsx(st,{size:"6",align:"center",children:"Welcome to Clearify"}),k.jsx(st,{size:"4",align:"center",color:"gray",children:"Create an Account"}),n&&k.jsx(lt,{color:"red",size:"2",children:k.jsx(at,{children:n})}),d&&k.jsx(lt,{color:"green",size:"2",children:k.jsx(at,{children:d})}),k.jsxs(it,{children:[k.jsx(oe,{as:"label",size:"2",weight:"medium",children:"Full Name"}),k.jsx(nt,P(g({placeholder:"John Brown"},e("full_name",{required:"Full name is required"})),{mt:"2"})),(t==null?void 0:t.full_name)&&k.jsx(oe,{color:"red",size:"1",mt:"1",children:t.full_name.message})]}),k.jsxs(it,{children:[k.jsx(oe,{as:"label",size:"2",weight:"medium",children:"Email"}),k.jsx(nt,P(g({type:"email",placeholder:"user@example.com"},e("email",{required:"Email is required",validate:D=>cr(D)||"Please enter a valid email address."})),{mt:"2"})),(t==null?void 0:t.email)&&k.jsx(oe,{color:"red",size:"1",mt:"1",children:t.email.message})]}),k.jsx(we,{gap:"3",justify:"center",mt:"2",children:k.jsx(Pt,{variant:"solid",color:"blue",type:"submit",disabled:l,style:{width:"100%"},onClick:s(U),children:l?"Signing up...":"Sign Up"})}),k.jsxs(we,{justify:"center",gap:"2",mt:"2",children:[k.jsx(oe,{size:"2",color:"gray",children:"Already have an account?"}),k.jsx(It,{to:"/login",style:{textDecoration:"none"},children:k.jsx(oe,{size:"2",color:"blue",children:"Log In"})})]})]})})})};export{mr as default};
